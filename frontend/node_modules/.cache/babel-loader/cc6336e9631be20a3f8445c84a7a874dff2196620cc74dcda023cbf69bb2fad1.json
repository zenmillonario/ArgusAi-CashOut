{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ChatTab from './ChatTab';\nimport PortfolioTab from './PortfolioTab';\nimport FavoritesTab from './FavoritesTab';\nimport { formatPrice, formatPnL, formatCurrency } from './utils';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\nfunction App() {\n  _s();\n  var _currentUser$username, _currentUser$username2;\n  const [currentUser, setCurrentUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isConnected, setIsConnected] = useState(false);\n  const [connectionMode, setConnectionMode] = useState('disconnected'); // 'websocket', 'polling', 'disconnected'\n  const [showLogin, setShowLogin] = useState(true);\n  const [loginForm, setLoginForm] = useState({\n    username: '',\n    email: '',\n    password: '',\n    real_name: '',\n    membership_plan: ''\n  });\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [pendingUsers, setPendingUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  const [activeTab, setActiveTab] = useState('chat');\n  const [userTrades, setUserTrades] = useState([]);\n  const [userPerformance, setUserPerformance] = useState(null);\n  const [openPositions, setOpenPositions] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [isDarkTheme, setIsDarkTheme] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showSearch, setShowSearch] = useState(false);\n  const [filteredMessages, setFilteredMessages] = useState([]);\n  const [showEditProfile, setShowEditProfile] = useState(false);\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [editProfileForm, setEditProfileForm] = useState({\n    username: '',\n    email: '',\n    real_name: '',\n    screen_name: ''\n  });\n  const [passwordForm, setPasswordForm] = useState({\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [audioContext, setAudioContext] = useState(null);\n  const [serviceWorker, setServiceWorker] = useState(null);\n  const [pushSubscription, setPushSubscription] = useState(null);\n  const [tradeForm, setTradeForm] = useState({\n    symbol: '',\n    action: 'BUY',\n    quantity: '',\n    price: '',\n    notes: '',\n    stop_loss: '',\n    take_profit: ''\n  });\n  const [currentStockPrice, setCurrentStockPrice] = useState(null);\n  const [priceLoading, setPriceLoading] = useState(false);\n  const [replyToMessage, setReplyToMessage] = useState(null);\n  const wsRef = useRef(null);\n  const messagesEndRef = useRef(null);\n\n  // Filter messages based on search query\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setFilteredMessages(messages);\n    } else {\n      const filtered = messages.filter(message => message.content.toLowerCase().includes(searchQuery.toLowerCase()) || message.username.toLowerCase().includes(searchQuery.toLowerCase()) || message.real_name && message.real_name.toLowerCase().includes(searchQuery.toLowerCase()) || message.highlighted_tickers.some(ticker => ticker.toLowerCase().includes(searchQuery.toLowerCase())));\n      setFilteredMessages(filtered);\n    }\n  }, [messages, searchQuery]);\n\n  // Load saved user on app start\n  useEffect(() => {\n    // Check if this is a request for the widget page\n    if (window.location.pathname === '/cashoutai-button-widget.html') {\n      // Redirect to the actual widget page\n      window.location.href = '/cashoutai-button-widget.html';\n      return;\n    }\n    const savedUser = localStorage.getItem('cashoutai_user');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        // Check if session is still valid (not older than 24 hours)\n        const sessionAge = user.session_created_at ? (Date.now() - new Date(user.session_created_at).getTime()) / (1000 * 60 * 60) : 25; // Default to expired if no session timestamp\n\n        if (sessionAge < 24 && user.active_session_id) {\n          setCurrentUser(user);\n          setShowLogin(false);\n        } else {\n          // Session expired, clear storage\n          localStorage.removeItem('cashoutai_user');\n        }\n      } catch (error) {\n        console.error('Error loading saved user:', error);\n        localStorage.removeItem('cashoutai_user');\n      }\n    }\n    setIsLoading(false);\n  }, []);\n\n  // Load theme preference\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('cashoutai_theme');\n    if (savedTheme) {\n      setIsDarkTheme(savedTheme === 'dark');\n    }\n  }, []);\n\n  // Load favorites\n  useEffect(() => {\n    if (currentUser) {\n      const savedFavorites = localStorage.getItem(`cashoutai_favorites_${currentUser.id}`);\n      if (savedFavorites) {\n        setFavorites(JSON.parse(savedFavorites));\n      }\n    }\n  }, [currentUser]);\n  const toggleTheme = () => {\n    const newTheme = !isDarkTheme;\n    setIsDarkTheme(newTheme);\n    localStorage.setItem('cashoutai_theme', newTheme ? 'dark' : 'light');\n  };\n  const addToFavorites = symbol => {\n    if (!favorites.includes(symbol.toUpperCase())) {\n      const newFavorites = [...favorites, symbol.toUpperCase()];\n      setFavorites(newFavorites);\n      localStorage.setItem(`cashoutai_favorites_${currentUser.id}`, JSON.stringify(newFavorites));\n    }\n  };\n  const removeFromFavorites = symbol => {\n    const newFavorites = favorites.filter(fav => fav !== symbol.toUpperCase());\n    setFavorites(newFavorites);\n    localStorage.setItem(`cashoutai_favorites_${currentUser.id}`, JSON.stringify(newFavorites));\n  };\n\n  // Initialize audio context after user interaction\n  const initializeAudio = () => {\n    if (!audioContext) {\n      try {\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        setAudioContext(ctx);\n        console.log('🔊 Audio context initialized');\n      } catch (error) {\n        console.error('Failed to initialize audio context:', error);\n      }\n    }\n  };\n\n  // Simple admin notification sound - no complex audio context\n  const playSimpleAdminSound = () => {\n    try {\n      // Create a simple audio beep\n      const audio = new Audio();\n      audio.src = 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAABACAAAQCQAAAABAAEAGGV0YQoGAAAaFBUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRU';\n      audio.volume = 0.5;\n      audio.play().then(() => {\n        console.log('🔔 Simple admin sound played successfully');\n      }).catch(error => {\n        console.log('Sound play failed:', error);\n        // Fallback - try a different approach\n        try {\n          const context = new (window.AudioContext || window.webkitAudioContext)();\n          const oscillator = context.createOscillator();\n          const gainNode = context.createGain();\n          oscillator.connect(gainNode);\n          gainNode.connect(context.destination);\n          oscillator.frequency.setValueAtTime(800, context.currentTime);\n          gainNode.gain.setValueAtTime(0.3, context.currentTime);\n          gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);\n          oscillator.start(context.currentTime);\n          oscillator.stop(context.currentTime + 0.5);\n          console.log('🔔 Fallback admin sound played');\n        } catch (e) {\n          console.log('All sound methods failed');\n        }\n      });\n    } catch (error) {\n      console.error('Error playing admin sound:', error);\n    }\n  };\n  const playNotificationSound = async () => {\n    try {\n      // Try to initialize audio context if not already done\n      if (!audioContext) {\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        setAudioContext(ctx);\n\n        // Resume if suspended\n        if (ctx.state === 'suspended') {\n          await ctx.resume();\n        }\n\n        // Create sound with new context\n        const oscillator = ctx.createOscillator();\n        const gainNode = ctx.createGain();\n        oscillator.connect(gainNode);\n        gainNode.connect(ctx.destination);\n        oscillator.frequency.setValueAtTime(800, ctx.currentTime);\n        oscillator.frequency.setValueAtTime(1000, ctx.currentTime + 0.1);\n        oscillator.frequency.setValueAtTime(800, ctx.currentTime + 0.2);\n        oscillator.frequency.setValueAtTime(1200, ctx.currentTime + 0.3);\n        gainNode.gain.setValueAtTime(0.3, ctx.currentTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.6);\n        oscillator.start(ctx.currentTime);\n        oscillator.stop(ctx.currentTime + 0.6);\n        console.log('🔔 Notification sound played successfully (new context)');\n        return;\n      }\n\n      // Resume audio context if suspended\n      if (audioContext.state === 'suspended') {\n        await audioContext.resume();\n      }\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n\n      // Create a more attention-grabbing sound pattern\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n      oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.1);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      oscillator.frequency.setValueAtTime(1200, audioContext.currentTime + 0.3);\n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);\n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.6);\n      console.log('🔔 Notification sound played successfully');\n    } catch (error) {\n      console.error('Error playing notification sound:', error);\n      // Fallback: try HTML5 audio\n      try {\n        const audio = new Audio();\n        audio.src = 'data:audio/wav;base64,UklGRtoBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdYBAAC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4';\n        audio.volume = 0.3;\n        await audio.play();\n        console.log('🔔 Fallback notification sound played');\n      } catch (e) {\n        console.log('All audio methods failed:', e);\n      }\n    }\n  };\n  const showServiceWorkerNotification = async (title, message, adminName = null) => {\n    try {\n      if ('serviceWorker' in navigator) {\n        const registration = await navigator.serviceWorker.ready;\n        await registration.showNotification(title, {\n          body: adminName ? `${adminName}: ${message}` : message,\n          icon: 'https://i.imgur.com/ZPYCiyg.png',\n          badge: 'https://i.imgur.com/ZPYCiyg.png',\n          vibrate: [300, 200, 300, 200, 300],\n          tag: 'cashoutai-admin',\n          requireInteraction: true,\n          silent: false,\n          actions: [{\n            action: 'view',\n            title: 'View Message'\n          }, {\n            action: 'close',\n            title: 'Close'\n          }],\n          data: {\n            url: '/',\n            timestamp: Date.now()\n          }\n        });\n        console.log('🔔 Service Worker notification shown with actions');\n        return true;\n      }\n    } catch (error) {\n      console.error('Service Worker notification failed:', error);\n    }\n    return false;\n  };\n  const showBrowserNotification = async (title, message, isAdmin = false) => {\n    // Check if notifications are supported\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser does not support notifications\");\n      return;\n    }\n\n    // Only show notifications for admin messages\n    if (!isAdmin) {\n      return;\n    }\n\n    // Check notification permission\n    if (Notification.permission === \"granted\") {\n      // Try to use Service Worker for rich notifications first\n      const swSuccess = await showServiceWorkerNotification(title, message, (currentUser === null || currentUser === void 0 ? void 0 : currentUser.real_name) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username));\n      if (swSuccess) {\n        return; // Service Worker notification successful\n      }\n\n      // Fallback to basic notification without actions\n      console.log('Using basic notification fallback');\n      const notification = new Notification(title, {\n        body: message,\n        icon: \"https://i.imgur.com/ZPYCiyg.png\",\n        badge: \"https://i.imgur.com/ZPYCiyg.png\",\n        tag: \"cashoutai-admin\",\n        requireInteraction: true,\n        silent: false,\n        vibrate: [300, 200, 300, 200, 300]\n        // NOTE: No actions here - only supported in Service Worker notifications\n      });\n\n      // Auto close after 8 seconds (longer for admin messages)\n      setTimeout(() => {\n        notification.close();\n      }, 8000);\n\n      // Handle notification clicks\n      notification.onclick = () => {\n        window.focus();\n        notification.close();\n      };\n      console.log('🔔 Basic browser notification shown (fallback)');\n    } else if (Notification.permission !== \"denied\") {\n      // Request permission\n      const permission = await Notification.requestPermission();\n      if (permission === \"granted\") {\n        showBrowserNotification(title, message, isAdmin);\n      }\n    }\n  };\n\n  // Reset document title when user focuses on the app\n  useEffect(() => {\n    const handleFocus = () => {\n      document.title = '💰 CashoutAI - Trading Platform';\n    };\n    const handleBlur = () => {\n      // Keep title as is when user leaves the app\n    };\n    window.addEventListener('focus', handleFocus);\n    window.addEventListener('blur', handleBlur);\n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n\n  // Initialize audio on first user interaction\n  useEffect(() => {\n    const handleFirstInteraction = () => {\n      initializeAudio();\n      document.removeEventListener('click', handleFirstInteraction);\n      document.removeEventListener('keydown', handleFirstInteraction);\n      document.removeEventListener('touchstart', handleFirstInteraction);\n    };\n    document.addEventListener('click', handleFirstInteraction);\n    document.addEventListener('keydown', handleFirstInteraction);\n    document.addEventListener('touchstart', handleFirstInteraction);\n    return () => {\n      document.removeEventListener('click', handleFirstInteraction);\n      document.removeEventListener('keydown', handleFirstInteraction);\n      document.removeEventListener('touchstart', handleFirstInteraction);\n    };\n  }, []);\n\n  // Request notification permission on app load\n  useEffect(() => {\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission().then(permission => {\n        console.log('Notification permission:', permission);\n      });\n    }\n  }, []);\n\n  // Service Worker registration and push notification setup\n  useEffect(() => {\n    const registerServiceWorker = async () => {\n      if ('serviceWorker' in navigator) {\n        try {\n          const registration = await navigator.serviceWorker.register('/sw.js');\n          console.log('Service Worker registered successfully:', registration);\n\n          // Wait for service worker to be ready\n          await navigator.serviceWorker.ready;\n\n          // Get the active service worker\n          const worker = registration.active || registration.waiting || registration.installing;\n          if (worker) {\n            setServiceWorker(worker);\n            console.log('Service Worker set:', worker.state);\n          }\n\n          // Listen for service worker state changes\n          if (registration.installing) {\n            registration.installing.addEventListener('statechange', e => {\n              if (e.target.state === 'activated') {\n                setServiceWorker(e.target);\n                console.log('Service Worker activated');\n              }\n            });\n          }\n\n          // Listen for service worker updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            if (newWorker) {\n              newWorker.addEventListener('statechange', e => {\n                if (e.target.state === 'activated') {\n                  setServiceWorker(e.target);\n                  console.log('Service Worker updated and activated');\n                }\n              });\n            }\n          });\n\n          // Request notification permission if not already granted\n          if (Notification.permission === 'default') {\n            const permission = await Notification.requestPermission();\n            console.log('Notification permission result:', permission);\n          }\n\n          // Set up push notifications if supported\n          if ('PushManager' in window && registration.pushManager) {\n            try {\n              const subscription = await registration.pushManager.getSubscription();\n              if (subscription) {\n                setPushSubscription(subscription);\n                console.log('Existing push subscription found');\n              } else {\n                // Create new subscription (you would need VAPID keys for production)\n                console.log('No existing push subscription found');\n              }\n            } catch (error) {\n              console.error('Push subscription error:', error);\n            }\n          }\n        } catch (error) {\n          console.error('Service Worker registration failed:', error);\n        }\n      }\n    };\n    registerServiceWorker();\n  }, []);\n\n  // Background sync for admin message checking\n  useEffect(() => {\n    if (serviceWorker && currentUser) {\n      const handleVisibilityChange = () => {\n        if (document.hidden) {\n          // App went to background, register background sync\n          if ('serviceWorker' in navigator && 'sync' in window.ServiceWorkerRegistration.prototype) {\n            navigator.serviceWorker.ready.then(registration => {\n              return registration.sync.register('admin-message-check');\n            }).catch(error => {\n              console.error('Background sync registration failed:', error);\n            });\n          }\n        }\n      };\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      return () => {\n        document.removeEventListener('visibilitychange', handleVisibilityChange);\n      };\n    }\n  }, [serviceWorker, currentUser]);\n  const [messageReactions, setMessageReactions] = useState({});\n  const addReaction = (messageId, reaction) => {\n    console.log(`Adding reaction ${reaction} to message ${messageId}`);\n    setMessageReactions(prev => {\n      const messageReacts = prev[messageId] || {};\n      const currentCount = messageReacts[reaction] || 0;\n      return {\n        ...prev,\n        [messageId]: {\n          ...messageReacts,\n          [reaction]: currentCount + 1\n        }\n      };\n    });\n\n    // In a full implementation, you'd also send this to the backend\n    // For now, we'll just store it locally\n  };\n  const scrollToBottom = () => {\n    try {\n      // Add a small delay and check if element exists to prevent mobile scroll issues\n      setTimeout(() => {\n        if (messagesEndRef.current && !document.hidden) {\n          messagesEndRef.current.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"nearest\" // Less aggressive scrolling\n          });\n        }\n      }, 100);\n    } catch (error) {\n      console.log('Scroll error (non-critical):', error);\n    }\n  };\n\n  // Fetch stock price when symbol changes\n  const fetchCurrentPrice = async symbol => {\n    if (!symbol || symbol.length < 1) {\n      setCurrentStockPrice(null);\n      return;\n    }\n    try {\n      setPriceLoading(true);\n      const response = await axios.get(`${API}/stock/${symbol}`);\n      setCurrentStockPrice(response.data.price);\n      // Auto-fill price in form\n      setTradeForm(prev => ({\n        ...prev,\n        price: response.data.price.toString()\n      }));\n    } catch (error) {\n      console.error('Error fetching stock price:', error);\n      setCurrentStockPrice(null);\n    } finally {\n      setPriceLoading(false);\n    }\n  };\n\n  // Auto-fetch price when symbol changes\n  useEffect(() => {\n    const debounceTimer = setTimeout(() => {\n      if (tradeForm.symbol && tradeForm.symbol.length >= 1) {\n        fetchCurrentPrice(tradeForm.symbol);\n      }\n    }, 500); // Debounce for 500ms\n\n    return () => clearTimeout(debounceTimer);\n  }, [tradeForm.symbol]);\n\n  // Auto-scroll when messages change AND on initial load - with mobile optimization\n  useEffect(() => {\n    // Only auto-scroll if user is actively viewing chat tab and app is visible\n    if (activeTab === 'chat' && !document.hidden && filteredMessages.length > 0) {\n      scrollToBottom();\n    }\n  }, [filteredMessages, activeTab]);\n\n  // WebSocket connection\n  useEffect(() => {\n    if (currentUser && !wsRef.current && currentUser.active_session_id) {\n      // Build WebSocket URL correctly for different deployment environments\n      let wsUrl;\n      if (BACKEND_URL.includes('onrender.com')) {\n        // For Render deployment, use the backend URL directly with /api prefix\n        const wsProtocol = BACKEND_URL.startsWith('https://') ? 'wss://' : 'ws://';\n        const wsHost = BACKEND_URL.replace('https://', '').replace('http://', '');\n        wsUrl = `${wsProtocol}${wsHost}/api/ws/${currentUser.id}/${currentUser.active_session_id}`;\n      } else {\n        // For other deployments (Emergent, etc.) with /api prefix\n        const wsProtocol = BACKEND_URL.startsWith('https://') ? 'wss://' : 'ws://';\n        const wsHost = BACKEND_URL.replace('https://', '').replace('http://', '');\n        wsUrl = `${wsProtocol}${wsHost}/api/ws/${currentUser.id}/${currentUser.active_session_id}`;\n      }\n      console.log('Connecting to WebSocket:', wsUrl);\n      const ws = new WebSocket(wsUrl);\n      ws.onopen = () => {\n        setIsConnected(true);\n        setConnectionMode('websocket');\n        console.log('WebSocket connected successfully');\n        // Send a heartbeat to establish connection\n        ws.send(JSON.stringify({\n          type: 'heartbeat',\n          message: 'Hello'\n        }));\n      };\n      ws.onmessage = async event => {\n        try {\n          const data = JSON.parse(event.data);\n          console.log('WebSocket message received:', data);\n          if (data.type === 'session_invalidated') {\n            // Session has been invalidated by login from another location\n            alert('🔒 Your session has been terminated due to login from another location.');\n            logout();\n          } else if (data.type === 'message') {\n            const message = data.data;\n            setMessages(prev => [...prev, message]);\n            console.log('📝 Message received:', {\n              content: message.content.substring(0, 50),\n              is_admin: message.is_admin,\n              user_id: message.user_id,\n              current_user_id: currentUser.id,\n              sender: message.screen_name || message.username\n            });\n\n            // Check if this is an admin message and current user is not the sender\n            if (message.is_admin && message.user_id !== currentUser.id) {\n              console.log('🔔 ADMIN MESSAGE DETECTED!');\n              console.log('- From:', message.screen_name || message.username);\n              console.log('- Message:', message.content.substring(0, 100));\n\n              // Play simple admin sound\n              playSimpleAdminSound();\n\n              // Visual notification in app title\n              setTimeout(() => {\n                if (document.hidden) {\n                  document.title = `🔔 New Admin Message - CashoutAI`;\n                }\n              }, 100);\n            }\n          } else if (data.type === 'admin_notification') {\n            // New admin notification handling\n            console.log('🔔 Admin notification received:', data);\n            playSimpleAdminSound();\n\n            // Visual notification in app\n            if (document.hidden) {\n              document.title = `🔔 ${data.admin_real_name || data.admin_username} - CashoutAI`;\n            }\n          } else if (data.type === 'admin_message') {\n            // Legacy admin message handling\n            console.log('🔔 Legacy admin message notification');\n            playSimpleAdminSound();\n          }\n        } catch (e) {\n          console.error('Error parsing WebSocket message:', e);\n        }\n      };\n      ws.onclose = event => {\n        setIsConnected(false);\n        setConnectionMode('disconnected');\n        console.log('WebSocket disconnected', event);\n        wsRef.current = null;\n\n        // Handle session invalidation close codes\n        if (event.code === 4002 || event.code === 4003) {\n          alert('🔒 Your session has expired or been invalidated. Please log in again.');\n          logout();\n        }\n      };\n      ws.onerror = error => {\n        console.error('WebSocket error:', error);\n        setIsConnected(false);\n\n        // Add fallback mechanism for session validation when WebSocket fails\n        if (currentUser !== null && currentUser !== void 0 && currentUser.active_session_id) {\n          console.log('WebSocket failed, falling back to polling mode...');\n\n          // Set connected status to show as \"Polling\" instead of \"Disconnected\"\n          setTimeout(() => {\n            if (!wsRef.current || wsRef.current.type === 'polling') {\n              setIsConnected(true); // Show as connected since polling works\n              setConnectionMode('polling');\n            }\n          }, 1000);\n          const sessionCheckInterval = setInterval(async () => {\n            try {\n              const response = await axios.get(`${API}/users/${currentUser.id}/session-status?session_id=${currentUser.active_session_id}`);\n              if (!response.data.valid) {\n                console.log('Session invalidated via polling, logging out...');\n                alert('🔒 Your session has been terminated due to login from another location.');\n                logout();\n                clearInterval(sessionCheckInterval);\n              }\n            } catch (error) {\n              console.error('Session validation error:', error);\n              setIsConnected(false);\n              setConnectionMode('disconnected');\n            }\n          }, 10000); // Check every 10 seconds\n\n          // Also check for new messages periodically when WebSocket is down\n          const messageCheckInterval = setInterval(async () => {\n            try {\n              const response = await axios.get(`${API}/messages?limit=10`);\n              const latestMessages = response.data;\n              setMessages(prev => {\n                const existingIds = prev.map(m => m.id);\n                const newMessages = latestMessages.filter(m => !existingIds.includes(m.id));\n\n                // Check for admin messages in new messages\n                newMessages.forEach(message => {\n                  if (message.is_admin && message.user_id !== currentUser.id) {\n                    console.log('🔔 Admin message detected via polling:', message.screen_name || message.username);\n                    playSimpleAdminSound();\n                  }\n                });\n                return [...prev, ...newMessages];\n              });\n            } catch (error) {\n              console.error('Message polling error:', error);\n            }\n          }, 8000); // Check for new messages every 8 seconds\n\n          // Store interval IDs to clean up later\n          wsRef.current = {\n            type: 'polling',\n            sessionInterval: sessionCheckInterval,\n            messageInterval: messageCheckInterval\n          };\n        }\n      };\n      wsRef.current = ws;\n    }\n    return () => {\n      if (wsRef.current) {\n        if (wsRef.current.type === 'polling') {\n          clearInterval(wsRef.current.sessionInterval);\n          clearInterval(wsRef.current.messageInterval);\n        } else {\n          wsRef.current.close();\n        }\n        wsRef.current = null;\n      }\n    };\n  }, [currentUser]);\n  const loadMessages = async () => {\n    try {\n      const response = await axios.get(`${API}/messages`);\n      setMessages(response.data);\n    } catch (error) {\n      console.error('Error loading messages:', error);\n    }\n  };\n  const loadPendingUsers = async () => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.is_admin) {\n      try {\n        const response = await axios.get(`${API}/users/pending`);\n        setPendingUsers(response.data);\n      } catch (error) {\n        console.error('Error loading pending users:', error);\n      }\n    }\n  };\n  const loadAllUsers = async () => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.is_admin) {\n      try {\n        const response = await axios.get(`${API}/users`);\n        setAllUsers(response.data);\n      } catch (error) {\n        console.error('Error loading all users:', error);\n      }\n    }\n  };\n  const loadUserData = async () => {\n    if (!currentUser) return;\n    try {\n      // Load trades\n      const tradesResponse = await axios.get(`${API}/trades/${currentUser.id}`);\n      setUserTrades(tradesResponse.data);\n\n      // Load performance\n      const performanceResponse = await axios.get(`${API}/users/${currentUser.id}/performance`);\n      setUserPerformance(performanceResponse.data);\n\n      // Load positions\n      const positionsResponse = await axios.get(`${API}/positions/${currentUser.id}`);\n      setOpenPositions(positionsResponse.data);\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    }\n  };\n  useEffect(() => {\n    if (currentUser) {\n      loadMessages();\n      loadUserData();\n      loadPendingUsers();\n      loadAllUsers();\n    }\n  }, [currentUser]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(null);\n    try {\n      if (isRegistering) {\n        // Registration\n        const response = await axios.post(`${API}/users/register`, {\n          username: loginForm.username,\n          email: loginForm.email,\n          real_name: loginForm.real_name,\n          membership_plan: loginForm.membership_plan,\n          password: loginForm.password\n        });\n        alert('Registration successful! Please wait for admin approval. You will be approved within 5 minutes.');\n        setIsRegistering(false);\n        setLoginForm({\n          username: '',\n          email: '',\n          password: '',\n          real_name: '',\n          membership_plan: ''\n        });\n      } else {\n        // Login\n        const response = await axios.post(`${API}/users/login`, {\n          username: loginForm.username,\n          password: loginForm.password\n        });\n        setCurrentUser(response.data);\n        setShowLogin(false);\n        setLoginForm({\n          username: '',\n          email: '',\n          password: '',\n          real_name: '',\n          membership_plan: ''\n        });\n\n        // Save user to localStorage for persistence\n        localStorage.setItem('cashoutai_user', JSON.stringify(response.data));\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Authentication error:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'An error occurred during authentication';\n      setError(errorMessage);\n    }\n  };\n  const handleApproval = async (userId, approved) => {\n    try {\n      await axios.post(`${API}/users/approve`, {\n        user_id: userId,\n        approved: approved,\n        admin_id: currentUser.id,\n        role: \"member\"\n      });\n\n      // Reload pending users\n      loadPendingUsers();\n      loadAllUsers();\n      alert(`User ${approved ? 'approved' : 'rejected'} successfully`);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      alert(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || 'Error processing approval');\n    }\n  };\n  const handleUserRoleChange = async (userId, newRole) => {\n    try {\n      await axios.post(`${API}/users/change-role`, {\n        user_id: userId,\n        new_role: newRole,\n        admin_id: currentUser.id\n      });\n      loadAllUsers();\n      alert('User role updated successfully');\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      alert(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || 'Error updating user role');\n    }\n  };\n  const handleUserRemoval = async userId => {\n    if (!window.confirm('Are you sure you want to remove this user?')) return;\n    try {\n      await axios.delete(`${API}/users/${userId}?admin_id=${currentUser.id}`);\n      loadAllUsers();\n      alert('User removed successfully');\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      alert(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.detail) || 'Error removing user');\n    }\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n\n    // Check if we have an image to send\n    if (imageFile && imagePreview) {\n      try {\n        console.log('Sending image message...');\n        await axios.post(`${API}/messages`, {\n          content: imagePreview,\n          // Send the base64 data URL\n          content_type: \"image\",\n          user_id: currentUser.id,\n          reply_to_id: (replyToMessage === null || replyToMessage === void 0 ? void 0 : replyToMessage.id) || null\n        });\n\n        // Clear image and reply after sending\n        setImageFile(null);\n        setImagePreview(null);\n        setReplyToMessage(null);\n        console.log('Image message sent successfully');\n      } catch (error) {\n        console.error('Error sending image:', error);\n        alert('Error sending image');\n      }\n      return;\n    }\n\n    // Send text message\n    if (!newMessage.trim()) return;\n    try {\n      console.log('Sending text message...');\n      await axios.post(`${API}/messages`, {\n        content: newMessage,\n        content_type: \"text\",\n        user_id: currentUser.id,\n        reply_to_id: (replyToMessage === null || replyToMessage === void 0 ? void 0 : replyToMessage.id) || null\n      });\n      setNewMessage('');\n      setReplyToMessage(null); // Clear reply after sending\n      console.log('Text message sent successfully');\n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert('Error sending message');\n    }\n  };\n  const submitTrade = async e => {\n    e.preventDefault();\n    try {\n      await axios.post(`${API}/trades?user_id=${currentUser.id}`, {\n        symbol: tradeForm.symbol,\n        action: tradeForm.action,\n        quantity: parseInt(tradeForm.quantity),\n        price: parseFloat(tradeForm.price),\n        notes: tradeForm.notes,\n        stop_loss: tradeForm.stop_loss ? parseFloat(tradeForm.stop_loss) : null,\n        take_profit: tradeForm.take_profit ? parseFloat(tradeForm.take_profit) : null\n      });\n\n      // Reset form\n      setTradeForm({\n        symbol: '',\n        action: 'BUY',\n        quantity: '',\n        price: '',\n        notes: '',\n        stop_loss: '',\n        take_profit: ''\n      });\n\n      // Reload user data\n      loadUserData();\n      alert('Trade recorded successfully!');\n    } catch (error) {\n      console.error('Error submitting trade:', error);\n      alert('Error submitting trade');\n    }\n  };\n  const closePosition = async (positionId, symbol) => {\n    if (!window.confirm(`Close position for ${symbol}?`)) return;\n    try {\n      const response = await axios.post(`${API}/positions/${positionId}/close?user_id=${currentUser.id}`);\n      alert(`Position closed. P&L: $${response.data.realized_pnl}`);\n      loadUserData();\n    } catch (error) {\n      console.error('Error closing position:', error);\n      alert('Error closing position');\n    }\n  };\n  const handlePositionAction = async (positionId, action, quantity = null, price = null) => {\n    try {\n      const response = await axios.post(`${API}/positions/${positionId}/action?user_id=${currentUser.id}`, {\n        action: action,\n        quantity: quantity,\n        price: price\n      });\n      alert(response.data.message);\n      loadUserData();\n    } catch (error) {\n      console.error('Error with position action:', error);\n      alert('Error processing action');\n    }\n  };\n  const formatMessageContent = (content, tickers) => {\n    let formattedContent = content;\n\n    // Highlight stock tickers\n    tickers.forEach(ticker => {\n      const regex = new RegExp(`\\\\$${ticker}`, 'gi');\n      formattedContent = formattedContent.replace(regex, `<span class=\"ticker-highlight\">$${ticker}</span>`);\n    });\n    return formattedContent;\n  };\n  const openEditProfile = () => {\n    setEditProfileForm({\n      username: currentUser.username,\n      email: currentUser.email,\n      real_name: currentUser.real_name || '',\n      screen_name: currentUser.screen_name || ''\n    });\n    setShowEditProfile(true);\n  };\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setAvatarFile(file);\n\n      // Create preview\n      const reader = new FileReader();\n      reader.onload = e => {\n        setAvatarPreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const uploadAvatarFile = async file => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await axios.post(`${API}/users/${currentUser.id}/avatar-upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Update current user with new avatar\n      setCurrentUser(prev => ({\n        ...prev,\n        avatar_url: response.data.avatar_url\n      }));\n      setAvatarFile(null);\n      setAvatarPreview(null);\n      alert('Profile picture updated successfully!');\n    } catch (error) {\n      console.error('Error uploading avatar:', error);\n      alert('Error uploading profile picture');\n    }\n  };\n  const updateProfile = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.put(`${API}/users/${currentUser.id}/profile`, editProfileForm);\n      setCurrentUser(response.data);\n      setShowEditProfile(false);\n      alert('Profile updated successfully!');\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      console.error('Error updating profile:', error);\n      alert(((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.detail) || 'Error updating profile');\n    }\n  };\n  const changePassword = async e => {\n    e.preventDefault();\n    if (passwordForm.new_password !== passwordForm.confirm_password) {\n      alert('New passwords do not match');\n      return;\n    }\n    try {\n      await axios.post(`${API}/users/change-password?user_id=${currentUser.id}`, {\n        current_password: passwordForm.current_password,\n        new_password: passwordForm.new_password\n      });\n      setShowChangePassword(false);\n      setPasswordForm({\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      });\n      alert('Password changed successfully!');\n    } catch (error) {\n      var _error$response6, _error$response6$data;\n      console.error('Error changing password:', error);\n      alert(((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : (_error$response6$data = _error$response6.data) === null || _error$response6$data === void 0 ? void 0 : _error$response6$data.detail) || 'Error changing password');\n    }\n  };\n  const logout = async () => {\n    try {\n      await axios.post(`${API}/users/logout?user_id=${currentUser.id}`);\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n\n    // Clear persisted user data\n    localStorage.removeItem('cashoutai_user');\n    setCurrentUser(null);\n    setShowLogin(true);\n    setMessages([]);\n    if (wsRef.current) {\n      wsRef.current.close();\n      wsRef.current = null;\n    }\n  };\n\n  // Show loading screen while checking authentication\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `min-h-screen flex items-center justify-center ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: `text-xl font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n          children: \"Loading CashoutAI...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: `mt-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`,\n          children: \"Trade Together, Win Together\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1173,\n      columnNumber: 7\n    }, this);\n  }\n  if (showLogin) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `min-h-screen ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center min-h-screen p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-full max-w-md backdrop-blur-lg rounded-2xl border p-8 ${isDarkTheme ? 'bg-white/10 border-white/20' : 'bg-white/90 border-gray-200 shadow-xl'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-center mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 rounded-xl overflow-hidden border-4 border-blue-500/30 shadow-2xl bg-gradient-to-br from-blue-900 to-purple-900\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://i.imgur.com/ZPYCiyg.png\",\n                  alt: \"CashoutAI Team Logo\",\n                  className: \"w-full h-full object-cover\",\n                  onError: e => {\n                    e.target.style.display = 'none';\n                    e.target.nextSibling.style.display = 'flex';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-4xl hidden\",\n                  children: \"\\uD83D\\uDCB0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1209,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1199,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1198,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: `text-3xl font-bold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n              children: \"\\uD83D\\uDCB0 CashoutAI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `mt-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`,\n              children: \"Trading Community Chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1218,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-lg font-semibold mt-3 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent`,\n              children: \"\\\"Trade Together, Win Together\\\"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-sm mt-1 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`,\n              children: \"Professional Trading Team Platform\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"space-y-6\",\n            children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-red-500/10 border-red-500/30 text-red-400' : 'bg-red-50 border-red-200 text-red-600'}`,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1237,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1232,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                value: loginForm.username,\n                onChange: e => setLoginForm({\n                  ...loginForm,\n                  username: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1241,\n              columnNumber: 15\n            }, this), isRegistering && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Real Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: loginForm.real_name,\n                  onChange: e => setLoginForm({\n                    ...loginForm,\n                    real_name: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1260,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: loginForm.email,\n                  onChange: e => setLoginForm({\n                    ...loginForm,\n                    email: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1281,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1277,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Membership Plan *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white' : 'bg-white border border-gray-200 text-gray-900'}`,\n                  value: loginForm.membership_plan,\n                  onChange: e => setLoginForm({\n                    ...loginForm,\n                    membership_plan: e.target.value\n                  }),\n                  required: true,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select Membership Plan\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1307,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Monthly\",\n                    children: \"Monthly\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Yearly\",\n                    children: \"Yearly\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1309,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Lifetime\",\n                    children: \"Lifetime\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1310,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1297,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1293,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                value: loginForm.password,\n                onChange: e => setLoginForm({\n                  ...loginForm,\n                  password: e.target.value\n                }),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1316,\n              columnNumber: 15\n            }, this), isRegistering && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-blue-500/10 border-blue-500/30 text-blue-400' : 'bg-blue-50 border-blue-200 text-blue-600'}`,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"\\uD83D\\uDCDD Your account will be approved within 5 minutes after registration.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1339,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\",\n              children: isRegistering ? 'Register' : 'Login'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1345,\n              columnNumber: 15\n            }, this), !isRegistering && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowForgotPassword(true),\n                className: `text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`,\n                children: \"Forgot your password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1354,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1353,\n              columnNumber: 17\n            }, this), !isRegistering && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowForgotPassword(true),\n                className: `text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`,\n                children: \"Forgot your password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1367,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1366,\n              columnNumber: 17\n            }, this), !isRegistering && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setShowForgotPassword(true),\n                className: `text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`,\n                children: \"Forgot your password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1379,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => setIsRegistering(!isRegistering),\n                className: `${isDarkTheme ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-700'} transition-colors`,\n                children: isRegistering ? 'Already have an account? Login' : \"Don't have an account? Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1390,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1389,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1189,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `min-h-screen ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `sticky top-0 z-50 border-b ${isDarkTheme ? 'border-white/10 bg-black/30' : 'border-gray-200 bg-white/80'} backdrop-blur-lg`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-4 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowMobileMenu(!showMobileMenu),\n                className: `md:hidden p-2 rounded-lg transition-colors ${isDarkTheme ? 'bg-white/10 text-gray-300 hover:bg-white/20' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-5 h-5\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M4 6h16M4 12h16M4 18h16\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1423,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1422,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-12 h-12 rounded-lg overflow-hidden border-2 border-blue-500/30 bg-gradient-to-br from-blue-900 to-purple-900 shadow-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://i.imgur.com/ZPYCiyg.png\",\n                  alt: \"CashoutAI Logo\",\n                  className: \"w-full h-full object-cover\",\n                  onError: e => {\n                    e.target.style.display = 'none';\n                    e.target.nextSibling.style.display = 'flex';\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1429,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-sm hidden\",\n                  children: \"\\uD83D\\uDCB0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1438,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1428,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: `text-2xl font-bold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                  children: \"CashoutAI\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1444,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `text-xs italic ${isDarkTheme ? 'text-blue-400' : 'text-blue-600'}`,\n                  children: \"Trade Together, Win Together\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1447,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1443,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1412,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-2 h-2 rounded-full ${isConnected ? connectionMode === 'websocket' ? 'bg-green-400' : 'bg-yellow-400' : 'bg-red-400'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1454,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`,\n                children: isConnected ? connectionMode === 'websocket' ? 'Connected' : 'Polling' : 'Disconnected'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1459,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1453,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1411,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hidden md:flex space-x-1\",\n            children: [['chat', 'portfolio', 'practice', 'favorites', 'profile'].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab(tab),\n              className: `px-4 py-2 rounded-lg font-medium capitalize transition-colors ${activeTab === tab ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100 border border-gray-200'}`,\n              children: tab\n            }, tab, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1471,\n              columnNumber: 17\n            }, this)), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.is_admin) && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setActiveTab('admin'),\n              className: `px-4 py-2 rounded-lg font-medium transition-colors ${activeTab === 'admin' ? isDarkTheme ? 'bg-yellow-600 text-white' : 'bg-yellow-600 text-white' : isDarkTheme ? 'text-yellow-400 hover:bg-white/10' : 'text-yellow-600 hover:bg-yellow-50 border border-yellow-200'}`,\n              children: \"Admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1488,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [activeTab === 'chat' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowSearch(!showSearch),\n                className: `p-2 rounded-lg transition-colors ${isDarkTheme ? 'bg-white/10 text-gray-300 hover:bg-white/20' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n                title: \"Search messages\",\n                children: \"\\uD83D\\uDD0D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1509,\n                columnNumber: 19\n              }, this)\n            }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: toggleTheme,\n              className: `p-2 rounded-lg transition-colors ${isDarkTheme ? 'bg-white/10 text-gray-300 hover:bg-white/20' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,\n              title: \"Toggle theme\",\n              children: isDarkTheme ? '☀️' : '🌙'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1523,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right hidden sm:block\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.real_name) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1537,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-400\",\n                children: [(currentUser === null || currentUser === void 0 ? void 0 : currentUser.screen_name) && `@${currentUser.screen_name} • `, currentUser !== null && currentUser !== void 0 && currentUser.is_admin ? 'Admin' : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) || 'Member']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1540,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: logout,\n              className: \"hidden md:block px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\",\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1547,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1410,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1409,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1408,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto flex flex-col\",\n      style: {\n        height: 'calc(100vh - 80px)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-4 pb-20 overflow-hidden\",\n        children: [showMobileMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `md:hidden fixed top-16 left-4 right-4 border rounded-lg shadow-lg z-50 ${isDarkTheme ? 'border-white/10 bg-black/90' : 'border-gray-200 bg-white/90'} backdrop-blur-lg`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `mb-4 p-3 rounded-lg border-b ${isDarkTheme ? 'border-white/10' : 'border-gray-200'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.real_name) || (currentUser === null || currentUser === void 0 ? void 0 : currentUser.username)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1573,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`,\n                children: [(currentUser === null || currentUser === void 0 ? void 0 : currentUser.screen_name) && `@${currentUser.screen_name} • `, currentUser !== null && currentUser !== void 0 && currentUser.is_admin ? 'Admin' : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) || 'Member']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1576,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1570,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('chat');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'chat' ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\uD83D\\uDCAC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1599,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Chat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1600,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1584,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('portfolio');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'portfolio' ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\uD83D\\uDCCA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1619,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Portfolio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1620,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1604,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('practice');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'practice' ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\uD83D\\uDCC8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1639,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Practice\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1640,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1624,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('favorites');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'favorites' ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\u2B50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1659,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Favorites\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1660,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1644,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('profile');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'profile' ? isDarkTheme ? 'bg-blue-600 text-white' : 'bg-blue-600 text-white' : isDarkTheme ? 'text-gray-300 hover:bg-white/10' : 'text-gray-700 hover:bg-gray-100'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\uD83D\\uDC64\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1679,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1680,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1664,\n                columnNumber: 17\n              }, this), (currentUser === null || currentUser === void 0 ? void 0 : currentUser.is_admin) && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setActiveTab('admin');\n                  setShowMobileMenu(false);\n                },\n                className: `flex flex-col items-center p-3 rounded-lg transition-colors ${activeTab === 'admin' ? isDarkTheme ? 'bg-yellow-600 text-white' : 'bg-yellow-600 text-white' : isDarkTheme ? 'text-yellow-400 hover:bg-white/10' : 'text-yellow-600 hover:bg-yellow-50'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-2xl mb-1\",\n                  children: \"\\u2699\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1700,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: \"Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1701,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1685,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1582,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                logout();\n                setShowMobileMenu(false);\n              },\n              className: \"w-full flex items-center justify-center p-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl mr-2\",\n                children: \"\\uD83D\\uDEAA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1714,\n                columnNumber: 17\n              }, this), \"Logout\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1707,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1568,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1565,\n          columnNumber: 11\n        }, this), showMobileMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:hidden fixed inset-0 z-40\",\n          onClick: () => setShowMobileMenu(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1723,\n          columnNumber: 11\n        }, this), activeTab === 'chat' && /*#__PURE__*/_jsxDEV(ChatTab, {\n          messages: messages,\n          filteredMessages: filteredMessages,\n          showSearch: showSearch,\n          searchQuery: searchQuery,\n          setSearchQuery: setSearchQuery,\n          formatMessageContent: formatMessageContent,\n          addReaction: addReaction,\n          messageReactions: messageReactions,\n          addToFavorites: addToFavorites,\n          favorites: favorites,\n          messagesEndRef: messagesEndRef,\n          sendMessage: sendMessage,\n          newMessage: newMessage,\n          setNewMessage: setNewMessage,\n          imageFile: imageFile,\n          setImageFile: setImageFile,\n          imagePreview: imagePreview,\n          setImagePreview: setImagePreview,\n          isDarkTheme: isDarkTheme,\n          replyToMessage: replyToMessage,\n          setReplyToMessage: setReplyToMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1731,\n          columnNumber: 11\n        }, this), activeTab === 'portfolio' && /*#__PURE__*/_jsxDEV(PortfolioTab, {\n          openPositions: openPositions,\n          userPerformance: userPerformance,\n          closePosition: closePosition,\n          handlePositionAction: handlePositionAction,\n          isDarkTheme: isDarkTheme,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1758,\n          columnNumber: 11\n        }, this), activeTab === 'favorites' && /*#__PURE__*/_jsxDEV(FavoritesTab, {\n          favorites: favorites,\n          addToFavorites: addToFavorites,\n          removeFromFavorites: removeFromFavorites,\n          isDarkTheme: isDarkTheme\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1770,\n          columnNumber: 11\n        }, this), activeTab === 'practice' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-3 gap-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `lg:col-span-2 backdrop-blur-lg rounded-xl border p-4 ${isDarkTheme ? 'bg-white/5 border-white/10' : 'bg-white/80 border-gray-200'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: `text-lg font-bold mb-4 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                children: \"\\uD83D\\uDCC8 Paper Trading\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1788,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: submitTrade,\n                className: \"space-y-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Stock Symbol\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1794,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"TSLA\",\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                      value: tradeForm.symbol,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        symbol: e.target.value.toUpperCase()\n                      }),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1797,\n                      columnNumber: 23\n                    }, this), tradeForm.symbol && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `mt-1 text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`,\n                      children: priceLoading ? '🔄 Loading price...' : currentStockPrice ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-500 font-medium\",\n                        children: [\"Current: $\", currentStockPrice.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1815,\n                        columnNumber: 29\n                      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-red-500\",\n                        children: \"Price unavailable\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1819,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1811,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1793,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Action\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1828,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white' : 'bg-white border border-gray-200 text-gray-900'}`,\n                      value: tradeForm.action,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        action: e.target.value\n                      }),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"BUY\",\n                        children: \"Buy\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1840,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"SELL\",\n                        children: \"Sell\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1841,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1831,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1827,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1792,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1848,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      placeholder: \"100\",\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                      value: tradeForm.quantity,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        quantity: e.target.value\n                      }),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1851,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1847,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1866,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"0.00000001\",\n                      placeholder: \"250.00\",\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                      value: tradeForm.price,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        price: e.target.value\n                      }),\n                      required: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1869,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1865,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1846,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Stop Loss (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1887,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"0.00000001\",\n                      placeholder: \"Auto-sell if price drops\",\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                      value: tradeForm.stop_loss,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        stop_loss: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1890,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1886,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                      children: \"Take Profit (Optional)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1905,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      step: \"0.00000001\",\n                      placeholder: \"Auto-sell when profit reached\",\n                      className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                      value: tradeForm.take_profit,\n                      onChange: e => setTradeForm({\n                        ...tradeForm,\n                        take_profit: e.target.value\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1908,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1904,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1885,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Notes (Optional)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1924,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    placeholder: \"Trade notes and strategy...\",\n                    className: `w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                    value: tradeForm.notes,\n                    onChange: e => setTradeForm({\n                      ...tradeForm,\n                      notes: e.target.value\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1927,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1923,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\",\n                  children: \"Submit Trade\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1939,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1791,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1783,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1781,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1780,\n          columnNumber: 11\n        }, this), activeTab === 'profile' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `backdrop-blur-lg rounded-xl border p-6 ${isDarkTheme ? 'bg-white/5 border-white/10' : 'bg-white/80 border-gray-200'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n              children: \"\\uD83D\\uDC64 My Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1959,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Username\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1966,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10 text-white' : 'bg-white/70 border-gray-200 text-gray-900'}`,\n                    children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1969,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1965,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Real Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1979,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10 text-white' : 'bg-white/70 border-gray-200 text-gray-900'}`,\n                    children: (currentUser === null || currentUser === void 0 ? void 0 : currentUser.real_name) || 'Not set'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1982,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1978,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1992,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10 text-white' : 'bg-white/70 border-gray-200 text-gray-900'}`,\n                    children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1995,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1991,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"Role\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2005,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-3 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10 text-white' : 'bg-white/70 border-gray-200 text-gray-900'}`,\n                    children: currentUser !== null && currentUser !== void 0 && currentUser.is_admin ? 'Admin' : (currentUser === null || currentUser === void 0 ? void 0 : currentUser.role) || 'Member'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2008,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2004,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                    children: \"\\uD83D\\uDCCA Trading Performance\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2019,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-4 rounded-lg border space-y-2 ${isDarkTheme ? 'bg-white/5 border-white/10 text-white' : 'bg-white/70 border-gray-200 text-gray-900'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: isDarkTheme ? 'text-gray-300' : 'text-gray-600',\n                        children: \"Total Trades:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2028,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: userTrades.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2029,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2027,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: isDarkTheme ? 'text-gray-300' : 'text-gray-600',\n                        children: \"Total P&L:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2032,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `font-medium ${(userPerformance === null || userPerformance === void 0 ? void 0 : userPerformance.total_pnl) >= 0 ? 'text-green-500' : 'text-red-500'}`,\n                        children: formatCurrency((userPerformance === null || userPerformance === void 0 ? void 0 : userPerformance.total_pnl) || 0)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2033,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2031,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: isDarkTheme ? 'text-gray-300' : 'text-gray-600',\n                        children: \"Win Rate:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2040,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: userPerformance !== null && userPerformance !== void 0 && userPerformance.win_rate ? `${(userPerformance.win_rate * 100).toFixed(1)}%` : '0%'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2041,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2039,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: isDarkTheme ? 'text-gray-300' : 'text-gray-600',\n                        children: \"Open Positions:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2046,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: openPositions.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2047,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2045,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2022,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2018,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1964,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col items-center space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-32 h-32 rounded-full overflow-hidden border-4 border-white/20 shadow-lg\",\n                  children: currentUser !== null && currentUser !== void 0 && currentUser.avatar_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: currentUser.avatar_url,\n                    alt: \"Profile\",\n                    className: \"w-full h-full object-cover\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2056,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-3xl\",\n                    children: currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$username = currentUser.username) === null || _currentUser$username === void 0 ? void 0 : _currentUser$username.charAt(0).toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2062,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2054,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3 w-full\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: openEditProfile,\n                    className: \"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\",\n                    children: \"Edit Profile\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2069,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setShowChangePassword(true),\n                    className: \"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-200\",\n                    children: \"Change Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2076,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2068,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2053,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1963,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1954,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1953,\n          columnNumber: 11\n        }, this), activeTab === 'admin' && (currentUser === null || currentUser === void 0 ? void 0 : currentUser.is_admin) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `backdrop-blur-lg rounded-xl border p-6 ${isDarkTheme ? 'bg-white/5 border-white/10' : 'bg-white/80 border-gray-200'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n              children: \"\\u2699\\uFE0F Admin Panel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2097,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: `text-xl font-semibold mb-4 ${isDarkTheme ? 'text-yellow-400' : 'text-yellow-600'}`,\n                  children: [\"Pending Approvals (\", pendingUsers.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2104,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3 max-h-96 overflow-y-auto\",\n                  children: [pendingUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-4 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10' : 'bg-white/70 border-gray-200'}`,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: `font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                          children: user.real_name || user.username\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2116,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: `text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`,\n                          children: [\"@\", user.username, \" \\u2022 \", user.email]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2119,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: `text-xs ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`,\n                          children: [\"Membership: \", user.membership_plan || 'Not specified']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2122,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2115,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleApproval(user.id, true),\n                          className: \"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700\",\n                          children: \"Approve\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2127,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleApproval(user.id, false),\n                          className: \"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700\",\n                          children: \"Reject\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2133,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2126,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2114,\n                      columnNumber: 25\n                    }, this)\n                  }, user.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2109,\n                    columnNumber: 23\n                  }, this)), pendingUsers.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: `text-center ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`,\n                    children: \"No pending users\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2144,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2107,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: `text-xl font-semibold mb-4 ${isDarkTheme ? 'text-blue-400' : 'text-blue-600'}`,\n                  children: [\"All Users (\", allUsers.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3 max-h-96 overflow-y-auto\",\n                  children: allUsers.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `p-4 rounded-lg border ${isDarkTheme ? 'bg-white/5 border-white/10' : 'bg-white/70 border-gray-200'}`,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-start\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: `font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n                          children: [user.real_name || user.username, user.is_admin && ' 👑']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2165,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: `text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`,\n                          children: [\"@\", user.username, \" \\u2022 \", user.email]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2169,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: `text-xs ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`,\n                          children: [\"Role: \", user.is_admin ? 'Admin' : user.role || 'Member', user.id === currentUser.id ? ' (You)' : '', user.id !== currentUser.id ? ' (Can Edit)' : '']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2172,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2164,\n                        columnNumber: 27\n                      }, this), user.id !== currentUser.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex space-x-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                          onChange: e => handleUserRoleChange(user.id, e.target.value),\n                          value: user.is_admin ? 'admin' : user.role || 'member',\n                          className: `text-xs px-2 py-1 rounded border focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-gray-800 border-white/20 text-white' : 'bg-white border-gray-300 text-gray-900'}`,\n                          style: {\n                            backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                            color: isDarkTheme ? '#ffffff' : '#000000'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"member\",\n                            style: {\n                              backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                              color: isDarkTheme ? '#ffffff' : '#000000'\n                            },\n                            children: \"Member\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2195,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"admin\",\n                            style: {\n                              backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                              color: isDarkTheme ? '#ffffff' : '#000000'\n                            },\n                            children: \"Admin\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2199,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"moderator\",\n                            style: {\n                              backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                              color: isDarkTheme ? '#ffffff' : '#000000'\n                            },\n                            children: \"Moderator\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2203,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2181,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleUserRemoval(user.id),\n                          className: \"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700\",\n                          title: \"Remove user\",\n                          children: \"Remove\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2208,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2179,\n                        columnNumber: 29\n                      }, this), user.id === currentUser.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: `text-xs px-2 py-1 rounded ${isDarkTheme ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-600'}`,\n                        children: \"Your Account\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2218,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2163,\n                      columnNumber: 25\n                    }, this)\n                  }, user.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2158,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2156,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2092,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2091,\n          columnNumber: 11\n        }, this), showEditProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `backdrop-blur-lg rounded-2xl p-6 w-full max-w-md border ${isDarkTheme ? 'bg-white/10 border-white/20' : 'bg-white/90 border-gray-200'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n              children: \"Edit Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: updateProfile,\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Real Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2246,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: editProfileForm.real_name,\n                  onChange: e => setEditProfileForm({\n                    ...editProfileForm,\n                    real_name: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2249,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Screen Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2262,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: editProfileForm.screen_name,\n                  onChange: e => setEditProfileForm({\n                    ...editProfileForm,\n                    screen_name: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2265,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: editProfileForm.username,\n                  onChange: e => setEditProfileForm({\n                    ...editProfileForm,\n                    username: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2277,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: editProfileForm.email,\n                  onChange: e => setEditProfileForm({\n                    ...editProfileForm,\n                    email: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2298,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Profile Picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center space-x-4 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-20 h-20 rounded-full overflow-hidden border-2 border-white/20\",\n                    children: avatarPreview ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: avatarPreview,\n                      alt: \"Preview\",\n                      className: \"w-full h-full object-cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2321,\n                      columnNumber: 25\n                    }, this) : currentUser !== null && currentUser !== void 0 && currentUser.avatar_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: currentUser.avatar_url,\n                      alt: \"Current\",\n                      className: \"w-full h-full object-cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2323,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg\",\n                      children: currentUser === null || currentUser === void 0 ? void 0 : (_currentUser$username2 = currentUser.username) === null || _currentUser$username2 === void 0 ? void 0 : _currentUser$username2.charAt(0).toUpperCase()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2325,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2319,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"file\",\n                      accept: \"image/*\",\n                      onChange: handleFileSelect,\n                      className: `w-full px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white' : 'bg-white border border-gray-200 text-gray-900'}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2332,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: `text-xs mt-1 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`,\n                      children: \"Upload JPG, PNG, GIF (max 1MB)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2342,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2331,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2318,\n                  columnNumber: 19\n                }, this), avatarFile && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => uploadAvatarFile(avatarFile),\n                  className: \"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 mb-4\",\n                  children: \"Upload New Picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2350,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2312,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4 pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\",\n                  children: \"Save Changes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2361,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setShowEditProfile(false);\n                    setAvatarFile(null);\n                    setAvatarPreview(null);\n                  },\n                  className: \"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2367,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2360,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2244,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2235,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2234,\n          columnNumber: 11\n        }, this), showChangePassword && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `backdrop-blur-lg rounded-2xl p-6 w-full max-w-md border ${isDarkTheme ? 'bg-white/10 border-white/20' : 'bg-white/90 border-gray-200'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: `text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`,\n              children: \"Change Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: changePassword,\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Current Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2398,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: passwordForm.current_password,\n                  onChange: e => setPasswordForm({\n                    ...passwordForm,\n                    current_password: e.target.value\n                  }),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2401,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2397,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2415,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: passwordForm.new_password,\n                  onChange: e => setPasswordForm({\n                    ...passwordForm,\n                    new_password: e.target.value\n                  }),\n                  required: true,\n                  minLength: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2418,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`,\n                  children: \"Confirm New Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2433,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: `w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${isDarkTheme ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'}`,\n                  value: passwordForm.confirm_password,\n                  onChange: e => setPasswordForm({\n                    ...passwordForm,\n                    confirm_password: e.target.value\n                  }),\n                  required: true,\n                  minLength: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2436,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2432,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex space-x-4 pt-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: passwordForm.new_password !== passwordForm.confirm_password,\n                  className: \"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n                  children: \"Change Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2451,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setShowChangePassword(false);\n                    setPasswordForm({\n                      current_password: '',\n                      new_password: '',\n                      confirm_password: ''\n                    });\n                  },\n                  className: \"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors\",\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2458,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2450,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2396,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2387,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1561,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1559,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1406,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"+fgkDbi8M3dtBcT3A1dXR4zBKvA=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","ChatTab","PortfolioTab","FavoritesTab","formatPrice","formatPnL","formatCurrency","jsxDEV","_jsxDEV","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","App","_s","_currentUser$username","_currentUser$username2","currentUser","setCurrentUser","error","setError","isLoading","setIsLoading","messages","setMessages","newMessage","setNewMessage","isConnected","setIsConnected","connectionMode","setConnectionMode","showLogin","setShowLogin","loginForm","setLoginForm","username","email","password","real_name","membership_plan","isRegistering","setIsRegistering","pendingUsers","setPendingUsers","allUsers","setAllUsers","showAdminPanel","setShowAdminPanel","activeTab","setActiveTab","userTrades","setUserTrades","userPerformance","setUserPerformance","openPositions","setOpenPositions","favorites","setFavorites","isDarkTheme","setIsDarkTheme","searchQuery","setSearchQuery","showSearch","setShowSearch","filteredMessages","setFilteredMessages","showEditProfile","setShowEditProfile","showChangePassword","setShowChangePassword","showForgotPassword","setShowForgotPassword","editProfileForm","setEditProfileForm","screen_name","passwordForm","setPasswordForm","current_password","new_password","confirm_password","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","imageFile","setImageFile","imagePreview","setImagePreview","showMobileMenu","setShowMobileMenu","audioContext","setAudioContext","serviceWorker","setServiceWorker","pushSubscription","setPushSubscription","tradeForm","setTradeForm","symbol","action","quantity","price","notes","stop_loss","take_profit","currentStockPrice","setCurrentStockPrice","priceLoading","setPriceLoading","replyToMessage","setReplyToMessage","wsRef","messagesEndRef","trim","filtered","filter","message","content","toLowerCase","includes","highlighted_tickers","some","ticker","window","location","pathname","href","savedUser","localStorage","getItem","user","JSON","parse","sessionAge","session_created_at","Date","now","getTime","active_session_id","removeItem","console","savedTheme","savedFavorites","id","toggleTheme","newTheme","setItem","addToFavorites","toUpperCase","newFavorites","stringify","removeFromFavorites","fav","initializeAudio","ctx","AudioContext","webkitAudioContext","log","playSimpleAdminSound","audio","Audio","src","volume","play","then","catch","context","oscillator","createOscillator","gainNode","createGain","connect","destination","frequency","setValueAtTime","currentTime","gain","exponentialRampToValueAtTime","start","stop","e","playNotificationSound","state","resume","showServiceWorkerNotification","title","adminName","navigator","registration","ready","showNotification","body","icon","badge","vibrate","tag","requireInteraction","silent","actions","data","url","timestamp","showBrowserNotification","isAdmin","Notification","permission","swSuccess","notification","setTimeout","close","onclick","focus","requestPermission","handleFocus","document","handleBlur","addEventListener","removeEventListener","handleFirstInteraction","registerServiceWorker","register","worker","active","waiting","installing","target","newWorker","pushManager","subscription","getSubscription","handleVisibilityChange","hidden","ServiceWorkerRegistration","prototype","sync","messageReactions","setMessageReactions","addReaction","messageId","reaction","prev","messageReacts","currentCount","scrollToBottom","current","scrollIntoView","behavior","block","fetchCurrentPrice","length","response","get","toString","debounceTimer","clearTimeout","wsUrl","wsProtocol","startsWith","wsHost","replace","ws","WebSocket","onopen","send","type","onmessage","event","alert","logout","substring","is_admin","user_id","current_user_id","sender","admin_real_name","admin_username","onclose","code","onerror","sessionCheckInterval","setInterval","valid","clearInterval","messageCheckInterval","latestMessages","existingIds","map","m","newMessages","forEach","sessionInterval","messageInterval","loadMessages","loadPendingUsers","loadAllUsers","loadUserData","tradesResponse","performanceResponse","positionsResponse","handleSubmit","preventDefault","post","_error$response","_error$response$data","errorMessage","detail","handleApproval","userId","approved","admin_id","role","_error$response2","_error$response2$data","handleUserRoleChange","newRole","new_role","_error$response3","_error$response3$data","handleUserRemoval","confirm","delete","_error$response4","_error$response4$data","sendMessage","content_type","reply_to_id","submitTrade","parseInt","parseFloat","closePosition","positionId","realized_pnl","handlePositionAction","formatMessageContent","tickers","formattedContent","regex","RegExp","openEditProfile","handleFileSelect","file","files","reader","FileReader","onload","result","readAsDataURL","uploadAvatarFile","formData","FormData","append","headers","avatar_url","updateProfile","put","_error$response5","_error$response5$data","changePassword","_error$response6","_error$response6$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","onError","style","display","nextSibling","onSubmit","value","onChange","required","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","tab","height","placeholder","toFixed","step","total_pnl","win_rate","charAt","backgroundColor","color","accept","minLength","disabled","_c","$RefreshReg$"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport ChatTab from './ChatTab';\nimport PortfolioTab from './PortfolioTab';\nimport FavoritesTab from './FavoritesTab';\nimport { formatPrice, formatPnL, formatCurrency } from './utils';\nimport './App.css';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isConnected, setIsConnected] = useState(false);\n  const [connectionMode, setConnectionMode] = useState('disconnected'); // 'websocket', 'polling', 'disconnected'\n  const [showLogin, setShowLogin] = useState(true);\n  const [loginForm, setLoginForm] = useState({ username: '', email: '', password: '', real_name: '', membership_plan: '' });\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [pendingUsers, setPendingUsers] = useState([]);\n  const [allUsers, setAllUsers] = useState([]);\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  const [activeTab, setActiveTab] = useState('chat');\n  const [userTrades, setUserTrades] = useState([]);\n  const [userPerformance, setUserPerformance] = useState(null);\n  const [openPositions, setOpenPositions] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [isDarkTheme, setIsDarkTheme] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [showSearch, setShowSearch] = useState(false);\n  const [filteredMessages, setFilteredMessages] = useState([]);\n  const [showEditProfile, setShowEditProfile] = useState(false);\n  const [showChangePassword, setShowChangePassword] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [editProfileForm, setEditProfileForm] = useState({\n    username: '',\n    email: '',\n    real_name: '',\n    screen_name: ''\n  });\n  const [passwordForm, setPasswordForm] = useState({\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState(null);\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const [audioContext, setAudioContext] = useState(null);\n  const [serviceWorker, setServiceWorker] = useState(null);\n  const [pushSubscription, setPushSubscription] = useState(null);\n  const [tradeForm, setTradeForm] = useState({\n    symbol: '',\n    action: 'BUY',\n    quantity: '',\n    price: '',\n    notes: '',\n    stop_loss: '',\n    take_profit: ''\n  });\n  const [currentStockPrice, setCurrentStockPrice] = useState(null);\n  const [priceLoading, setPriceLoading] = useState(false);\n  const [replyToMessage, setReplyToMessage] = useState(null);\n  const wsRef = useRef(null);\n  const messagesEndRef = useRef(null);\n\n  // Filter messages based on search query\n  useEffect(() => {\n    if (searchQuery.trim() === '') {\n      setFilteredMessages(messages);\n    } else {\n      const filtered = messages.filter(message =>\n        message.content.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        message.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        (message.real_name && message.real_name.toLowerCase().includes(searchQuery.toLowerCase())) ||\n        message.highlighted_tickers.some(ticker => \n          ticker.toLowerCase().includes(searchQuery.toLowerCase())\n        )\n      );\n      setFilteredMessages(filtered);\n    }\n  }, [messages, searchQuery]);\n\n  // Load saved user on app start\n  useEffect(() => {\n    // Check if this is a request for the widget page\n    if (window.location.pathname === '/cashoutai-button-widget.html') {\n      // Redirect to the actual widget page\n      window.location.href = '/cashoutai-button-widget.html';\n      return;\n    }\n    \n    const savedUser = localStorage.getItem('cashoutai_user');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        // Check if session is still valid (not older than 24 hours)\n        const sessionAge = user.session_created_at ? \n          (Date.now() - new Date(user.session_created_at).getTime()) / (1000 * 60 * 60) : \n          25; // Default to expired if no session timestamp\n        \n        if (sessionAge < 24 && user.active_session_id) {\n          setCurrentUser(user);\n          setShowLogin(false);\n        } else {\n          // Session expired, clear storage\n          localStorage.removeItem('cashoutai_user');\n        }\n      } catch (error) {\n        console.error('Error loading saved user:', error);\n        localStorage.removeItem('cashoutai_user');\n      }\n    }\n    setIsLoading(false);\n  }, []);\n\n  // Load theme preference\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('cashoutai_theme');\n    if (savedTheme) {\n      setIsDarkTheme(savedTheme === 'dark');\n    }\n  }, []);\n\n  // Load favorites\n  useEffect(() => {\n    if (currentUser) {\n      const savedFavorites = localStorage.getItem(`cashoutai_favorites_${currentUser.id}`);\n      if (savedFavorites) {\n        setFavorites(JSON.parse(savedFavorites));\n      }\n    }\n  }, [currentUser]);\n\n  const toggleTheme = () => {\n    const newTheme = !isDarkTheme;\n    setIsDarkTheme(newTheme);\n    localStorage.setItem('cashoutai_theme', newTheme ? 'dark' : 'light');\n  };\n\n  const addToFavorites = (symbol) => {\n    if (!favorites.includes(symbol.toUpperCase())) {\n      const newFavorites = [...favorites, symbol.toUpperCase()];\n      setFavorites(newFavorites);\n      localStorage.setItem(`cashoutai_favorites_${currentUser.id}`, JSON.stringify(newFavorites));\n    }\n  };\n\n  const removeFromFavorites = (symbol) => {\n    const newFavorites = favorites.filter(fav => fav !== symbol.toUpperCase());\n    setFavorites(newFavorites);\n    localStorage.setItem(`cashoutai_favorites_${currentUser.id}`, JSON.stringify(newFavorites));\n  };\n\n  // Initialize audio context after user interaction\n  const initializeAudio = () => {\n    if (!audioContext) {\n      try {\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        setAudioContext(ctx);\n        console.log('🔊 Audio context initialized');\n      } catch (error) {\n        console.error('Failed to initialize audio context:', error);\n      }\n    }\n  };\n\n  // Simple admin notification sound - no complex audio context\n  const playSimpleAdminSound = () => {\n    try {\n      // Create a simple audio beep\n      const audio = new Audio();\n      audio.src = 'data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAABACAAAQCQAAAABAAEAGGV0YQoGAAAaFBUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRU';\n      audio.volume = 0.5;\n      audio.play().then(() => {\n        console.log('🔔 Simple admin sound played successfully');\n      }).catch((error) => {\n        console.log('Sound play failed:', error);\n        // Fallback - try a different approach\n        try {\n          const context = new (window.AudioContext || window.webkitAudioContext)();\n          const oscillator = context.createOscillator();\n          const gainNode = context.createGain();\n          \n          oscillator.connect(gainNode);\n          gainNode.connect(context.destination);\n          \n          oscillator.frequency.setValueAtTime(800, context.currentTime);\n          gainNode.gain.setValueAtTime(0.3, context.currentTime);\n          gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5);\n          \n          oscillator.start(context.currentTime);\n          oscillator.stop(context.currentTime + 0.5);\n          \n          console.log('🔔 Fallback admin sound played');\n        } catch (e) {\n          console.log('All sound methods failed');\n        }\n      });\n    } catch (error) {\n      console.error('Error playing admin sound:', error);\n    }\n  };\n\n  const playNotificationSound = async () => {\n    try {\n      // Try to initialize audio context if not already done\n      if (!audioContext) {\n        const ctx = new (window.AudioContext || window.webkitAudioContext)();\n        setAudioContext(ctx);\n        \n        // Resume if suspended\n        if (ctx.state === 'suspended') {\n          await ctx.resume();\n        }\n        \n        // Create sound with new context\n        const oscillator = ctx.createOscillator();\n        const gainNode = ctx.createGain();\n        \n        oscillator.connect(gainNode);\n        gainNode.connect(ctx.destination);\n        \n        oscillator.frequency.setValueAtTime(800, ctx.currentTime);\n        oscillator.frequency.setValueAtTime(1000, ctx.currentTime + 0.1);\n        oscillator.frequency.setValueAtTime(800, ctx.currentTime + 0.2);\n        oscillator.frequency.setValueAtTime(1200, ctx.currentTime + 0.3);\n        \n        gainNode.gain.setValueAtTime(0.3, ctx.currentTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.6);\n        \n        oscillator.start(ctx.currentTime);\n        oscillator.stop(ctx.currentTime + 0.6);\n        \n        console.log('🔔 Notification sound played successfully (new context)');\n        return;\n      }\n\n      // Resume audio context if suspended\n      if (audioContext.state === 'suspended') {\n        await audioContext.resume();\n      }\n\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      \n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n      \n      // Create a more attention-grabbing sound pattern\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime);\n      oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.1);\n      oscillator.frequency.setValueAtTime(800, audioContext.currentTime + 0.2);\n      oscillator.frequency.setValueAtTime(1200, audioContext.currentTime + 0.3);\n      \n      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);\n      \n      oscillator.start(audioContext.currentTime);\n      oscillator.stop(audioContext.currentTime + 0.6);\n      \n      console.log('🔔 Notification sound played successfully');\n    } catch (error) {\n      console.error('Error playing notification sound:', error);\n      // Fallback: try HTML5 audio\n      try {\n        const audio = new Audio();\n        audio.src = 'data:audio/wav;base64,UklGRtoBAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YdYBAAC4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4';\n        audio.volume = 0.3;\n        await audio.play();\n        console.log('🔔 Fallback notification sound played');\n      } catch (e) {\n        console.log('All audio methods failed:', e);\n      }\n    }\n  };\n\n  const showServiceWorkerNotification = async (title, message, adminName = null) => {\n    try {\n      if ('serviceWorker' in navigator) {\n        const registration = await navigator.serviceWorker.ready;\n        \n        await registration.showNotification(title, {\n          body: adminName ? `${adminName}: ${message}` : message,\n          icon: 'https://i.imgur.com/ZPYCiyg.png',\n          badge: 'https://i.imgur.com/ZPYCiyg.png',\n          vibrate: [300, 200, 300, 200, 300],\n          tag: 'cashoutai-admin',\n          requireInteraction: true,\n          silent: false,\n          actions: [\n            {\n              action: 'view',\n              title: 'View Message'\n            },\n            {\n              action: 'close',\n              title: 'Close'\n            }\n          ],\n          data: {\n            url: '/',\n            timestamp: Date.now()\n          }\n        });\n        \n        console.log('🔔 Service Worker notification shown with actions');\n        return true;\n      }\n    } catch (error) {\n      console.error('Service Worker notification failed:', error);\n    }\n    return false;\n  };\n\n  const showBrowserNotification = async (title, message, isAdmin = false) => {\n    // Check if notifications are supported\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser does not support notifications\");\n      return;\n    }\n\n    // Only show notifications for admin messages\n    if (!isAdmin) {\n      return;\n    }\n\n    // Check notification permission\n    if (Notification.permission === \"granted\") {\n      \n      // Try to use Service Worker for rich notifications first\n      const swSuccess = await showServiceWorkerNotification(\n        title, \n        message, \n        currentUser?.real_name || currentUser?.username\n      );\n      \n      if (swSuccess) {\n        return; // Service Worker notification successful\n      }\n      \n      // Fallback to basic notification without actions\n      console.log('Using basic notification fallback');\n      const notification = new Notification(title, {\n        body: message,\n        icon: \"https://i.imgur.com/ZPYCiyg.png\",\n        badge: \"https://i.imgur.com/ZPYCiyg.png\",\n        tag: \"cashoutai-admin\",\n        requireInteraction: true,\n        silent: false,\n        vibrate: [300, 200, 300, 200, 300]\n        // NOTE: No actions here - only supported in Service Worker notifications\n      });\n\n      // Auto close after 8 seconds (longer for admin messages)\n      setTimeout(() => {\n        notification.close();\n      }, 8000);\n\n      // Handle notification clicks\n      notification.onclick = () => {\n        window.focus();\n        notification.close();\n      };\n\n      console.log('🔔 Basic browser notification shown (fallback)');\n      \n    } else if (Notification.permission !== \"denied\") {\n      // Request permission\n      const permission = await Notification.requestPermission();\n      if (permission === \"granted\") {\n        showBrowserNotification(title, message, isAdmin);\n      }\n    }\n  };\n\n  // Reset document title when user focuses on the app\n  useEffect(() => {\n    const handleFocus = () => {\n      document.title = '💰 CashoutAI - Trading Platform';\n    };\n\n    const handleBlur = () => {\n      // Keep title as is when user leaves the app\n    };\n\n    window.addEventListener('focus', handleFocus);\n    window.addEventListener('blur', handleBlur);\n\n    return () => {\n      window.removeEventListener('focus', handleFocus);\n      window.removeEventListener('blur', handleBlur);\n    };\n  }, []);\n\n  // Initialize audio on first user interaction\n  useEffect(() => {\n    const handleFirstInteraction = () => {\n      initializeAudio();\n      document.removeEventListener('click', handleFirstInteraction);\n      document.removeEventListener('keydown', handleFirstInteraction);\n      document.removeEventListener('touchstart', handleFirstInteraction);\n    };\n\n    document.addEventListener('click', handleFirstInteraction);\n    document.addEventListener('keydown', handleFirstInteraction);\n    document.addEventListener('touchstart', handleFirstInteraction);\n\n    return () => {\n      document.removeEventListener('click', handleFirstInteraction);\n      document.removeEventListener('keydown', handleFirstInteraction);\n      document.removeEventListener('touchstart', handleFirstInteraction);\n    };\n  }, []);\n\n  // Request notification permission on app load\n  useEffect(() => {\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission().then((permission) => {\n        console.log('Notification permission:', permission);\n      });\n    }\n  }, []);\n\n  // Service Worker registration and push notification setup\n  useEffect(() => {\n    const registerServiceWorker = async () => {\n      if ('serviceWorker' in navigator) {\n        try {\n          const registration = await navigator.serviceWorker.register('/sw.js');\n          console.log('Service Worker registered successfully:', registration);\n          \n          // Wait for service worker to be ready\n          await navigator.serviceWorker.ready;\n          \n          // Get the active service worker\n          const worker = registration.active || registration.waiting || registration.installing;\n          if (worker) {\n            setServiceWorker(worker);\n            console.log('Service Worker set:', worker.state);\n          }\n          \n          // Listen for service worker state changes\n          if (registration.installing) {\n            registration.installing.addEventListener('statechange', (e) => {\n              if (e.target.state === 'activated') {\n                setServiceWorker(e.target);\n                console.log('Service Worker activated');\n              }\n            });\n          }\n          \n          // Listen for service worker updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            if (newWorker) {\n              newWorker.addEventListener('statechange', (e) => {\n                if (e.target.state === 'activated') {\n                  setServiceWorker(e.target);\n                  console.log('Service Worker updated and activated');\n                }\n              });\n            }\n          });\n          \n          // Request notification permission if not already granted\n          if (Notification.permission === 'default') {\n            const permission = await Notification.requestPermission();\n            console.log('Notification permission result:', permission);\n          }\n          \n          // Set up push notifications if supported\n          if ('PushManager' in window && registration.pushManager) {\n            try {\n              const subscription = await registration.pushManager.getSubscription();\n              if (subscription) {\n                setPushSubscription(subscription);\n                console.log('Existing push subscription found');\n              } else {\n                // Create new subscription (you would need VAPID keys for production)\n                console.log('No existing push subscription found');\n              }\n            } catch (error) {\n              console.error('Push subscription error:', error);\n            }\n          }\n          \n        } catch (error) {\n          console.error('Service Worker registration failed:', error);\n        }\n      }\n    };\n\n    registerServiceWorker();\n  }, []);\n\n  // Background sync for admin message checking\n  useEffect(() => {\n    if (serviceWorker && currentUser) {\n      const handleVisibilityChange = () => {\n        if (document.hidden) {\n          // App went to background, register background sync\n          if ('serviceWorker' in navigator && 'sync' in window.ServiceWorkerRegistration.prototype) {\n            navigator.serviceWorker.ready.then((registration) => {\n              return registration.sync.register('admin-message-check');\n            }).catch((error) => {\n              console.error('Background sync registration failed:', error);\n            });\n          }\n        }\n      };\n\n      document.addEventListener('visibilitychange', handleVisibilityChange);\n      \n      return () => {\n        document.removeEventListener('visibilitychange', handleVisibilityChange);\n      };\n    }\n  }, [serviceWorker, currentUser]);\n\n  const [messageReactions, setMessageReactions] = useState({});\n\n  const addReaction = (messageId, reaction) => {\n    console.log(`Adding reaction ${reaction} to message ${messageId}`);\n    \n    setMessageReactions(prev => {\n      const messageReacts = prev[messageId] || {};\n      const currentCount = messageReacts[reaction] || 0;\n      \n      return {\n        ...prev,\n        [messageId]: {\n          ...messageReacts,\n          [reaction]: currentCount + 1\n        }\n      };\n    });\n    \n    // In a full implementation, you'd also send this to the backend\n    // For now, we'll just store it locally\n  };\n\n  const scrollToBottom = () => {\n    try {\n      // Add a small delay and check if element exists to prevent mobile scroll issues\n      setTimeout(() => {\n        if (messagesEndRef.current && !document.hidden) {\n          messagesEndRef.current.scrollIntoView({ \n            behavior: \"smooth\",\n            block: \"nearest\" // Less aggressive scrolling\n          });\n        }\n      }, 100);\n    } catch (error) {\n      console.log('Scroll error (non-critical):', error);\n    }\n  };\n\n  // Fetch stock price when symbol changes\n  const fetchCurrentPrice = async (symbol) => {\n    if (!symbol || symbol.length < 1) {\n      setCurrentStockPrice(null);\n      return;\n    }\n    \n    try {\n      setPriceLoading(true);\n      const response = await axios.get(`${API}/stock/${symbol}`);\n      setCurrentStockPrice(response.data.price);\n      // Auto-fill price in form\n      setTradeForm(prev => ({\n        ...prev,\n        price: response.data.price.toString()\n      }));\n    } catch (error) {\n      console.error('Error fetching stock price:', error);\n      setCurrentStockPrice(null);\n    } finally {\n      setPriceLoading(false);\n    }\n  };\n\n  // Auto-fetch price when symbol changes\n  useEffect(() => {\n    const debounceTimer = setTimeout(() => {\n      if (tradeForm.symbol && tradeForm.symbol.length >= 1) {\n        fetchCurrentPrice(tradeForm.symbol);\n      }\n    }, 500); // Debounce for 500ms\n\n    return () => clearTimeout(debounceTimer);\n  }, [tradeForm.symbol]);\n\n  // Auto-scroll when messages change AND on initial load - with mobile optimization\n  useEffect(() => {\n    // Only auto-scroll if user is actively viewing chat tab and app is visible\n    if (activeTab === 'chat' && !document.hidden && filteredMessages.length > 0) {\n      scrollToBottom();\n    }\n  }, [filteredMessages, activeTab]);\n\n  // WebSocket connection\n  useEffect(() => {\n    if (currentUser && !wsRef.current && currentUser.active_session_id) {\n      // Build WebSocket URL correctly for different deployment environments\n      let wsUrl;\n      \n      if (BACKEND_URL.includes('onrender.com')) {\n        // For Render deployment, use the backend URL directly with /api prefix\n        const wsProtocol = BACKEND_URL.startsWith('https://') ? 'wss://' : 'ws://';\n        const wsHost = BACKEND_URL.replace('https://', '').replace('http://', '');\n        wsUrl = `${wsProtocol}${wsHost}/api/ws/${currentUser.id}/${currentUser.active_session_id}`;\n      } else {\n        // For other deployments (Emergent, etc.) with /api prefix\n        const wsProtocol = BACKEND_URL.startsWith('https://') ? 'wss://' : 'ws://';\n        const wsHost = BACKEND_URL.replace('https://', '').replace('http://', '');\n        wsUrl = `${wsProtocol}${wsHost}/api/ws/${currentUser.id}/${currentUser.active_session_id}`;\n      }\n      \n      console.log('Connecting to WebSocket:', wsUrl);\n      const ws = new WebSocket(wsUrl);\n      \n      ws.onopen = () => {\n        setIsConnected(true);\n        setConnectionMode('websocket');\n        console.log('WebSocket connected successfully');\n        // Send a heartbeat to establish connection\n        ws.send(JSON.stringify({ type: 'heartbeat', message: 'Hello' }));\n      };\n      \n      ws.onmessage = async (event) => {\n        try {\n          const data = JSON.parse(event.data);\n          console.log('WebSocket message received:', data);\n          \n          if (data.type === 'session_invalidated') {\n            // Session has been invalidated by login from another location\n            alert('🔒 Your session has been terminated due to login from another location.');\n            logout();\n          } else if (data.type === 'message') {\n            const message = data.data;\n            setMessages(prev => [...prev, message]);\n            \n            console.log('📝 Message received:', {\n              content: message.content.substring(0, 50),\n              is_admin: message.is_admin,\n              user_id: message.user_id,\n              current_user_id: currentUser.id,\n              sender: message.screen_name || message.username\n            });\n            \n            // Check if this is an admin message and current user is not the sender\n            if (message.is_admin && message.user_id !== currentUser.id) {\n              console.log('🔔 ADMIN MESSAGE DETECTED!');\n              console.log('- From:', message.screen_name || message.username);\n              console.log('- Message:', message.content.substring(0, 100));\n              \n              // Play simple admin sound\n              playSimpleAdminSound();\n              \n              // Visual notification in app title\n              setTimeout(() => {\n                if (document.hidden) {\n                  document.title = `🔔 New Admin Message - CashoutAI`;\n                }\n              }, 100);\n            }\n          } else if (data.type === 'admin_notification') {\n            // New admin notification handling\n            console.log('🔔 Admin notification received:', data);\n            \n            playSimpleAdminSound();\n            \n            // Visual notification in app\n            if (document.hidden) {\n              document.title = `🔔 ${data.admin_real_name || data.admin_username} - CashoutAI`;\n            }\n          } else if (data.type === 'admin_message') {\n            // Legacy admin message handling\n            console.log('🔔 Legacy admin message notification');\n            playSimpleAdminSound();\n          }\n        } catch (e) {\n          console.error('Error parsing WebSocket message:', e);\n        }\n      };\n      \n      ws.onclose = (event) => {\n        setIsConnected(false);\n        setConnectionMode('disconnected');\n        console.log('WebSocket disconnected', event);\n        wsRef.current = null;\n        \n        // Handle session invalidation close codes\n        if (event.code === 4002 || event.code === 4003) {\n          alert('🔒 Your session has expired or been invalidated. Please log in again.');\n          logout();\n        }\n      };\n      \n      ws.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        setIsConnected(false);\n        \n        // Add fallback mechanism for session validation when WebSocket fails\n        if (currentUser?.active_session_id) {\n          console.log('WebSocket failed, falling back to polling mode...');\n          \n          // Set connected status to show as \"Polling\" instead of \"Disconnected\"\n          setTimeout(() => {\n            if (!wsRef.current || wsRef.current.type === 'polling') {\n              setIsConnected(true); // Show as connected since polling works\n              setConnectionMode('polling');\n            }\n          }, 1000);\n          \n          const sessionCheckInterval = setInterval(async () => {\n            try {\n              const response = await axios.get(`${API}/users/${currentUser.id}/session-status?session_id=${currentUser.active_session_id}`);\n              if (!response.data.valid) {\n                console.log('Session invalidated via polling, logging out...');\n                alert('🔒 Your session has been terminated due to login from another location.');\n                logout();\n                clearInterval(sessionCheckInterval);\n              }\n            } catch (error) {\n              console.error('Session validation error:', error);\n              setIsConnected(false);\n              setConnectionMode('disconnected');\n            }\n          }, 10000); // Check every 10 seconds\n          \n          // Also check for new messages periodically when WebSocket is down\n          const messageCheckInterval = setInterval(async () => {\n            try {\n              const response = await axios.get(`${API}/messages?limit=10`);\n              const latestMessages = response.data;\n              \n              setMessages(prev => {\n                const existingIds = prev.map(m => m.id);\n                const newMessages = latestMessages.filter(m => !existingIds.includes(m.id));\n                \n                // Check for admin messages in new messages\n                newMessages.forEach(message => {\n                  if (message.is_admin && message.user_id !== currentUser.id) {\n                    console.log('🔔 Admin message detected via polling:', message.screen_name || message.username);\n                    playSimpleAdminSound();\n                  }\n                });\n                \n                return [...prev, ...newMessages];\n              });\n            } catch (error) {\n              console.error('Message polling error:', error);\n            }\n          }, 8000); // Check for new messages every 8 seconds\n          \n          // Store interval IDs to clean up later\n          wsRef.current = { \n            type: 'polling', \n            sessionInterval: sessionCheckInterval,\n            messageInterval: messageCheckInterval\n          };\n        }\n      };\n      \n      wsRef.current = ws;\n    }\n    \n    return () => {\n      if (wsRef.current) {\n        if (wsRef.current.type === 'polling') {\n          clearInterval(wsRef.current.sessionInterval);\n          clearInterval(wsRef.current.messageInterval);\n        } else {\n          wsRef.current.close();\n        }\n        wsRef.current = null;\n      }\n    };\n  }, [currentUser]);\n\n  const loadMessages = async () => {\n    try {\n      const response = await axios.get(`${API}/messages`);\n      setMessages(response.data);\n    } catch (error) {\n      console.error('Error loading messages:', error);\n    }\n  };\n\n  const loadPendingUsers = async () => {\n    if (currentUser?.is_admin) {\n      try {\n        const response = await axios.get(`${API}/users/pending`);\n        setPendingUsers(response.data);\n      } catch (error) {\n        console.error('Error loading pending users:', error);\n      }\n    }\n  };\n\n  const loadAllUsers = async () => {\n    if (currentUser?.is_admin) {\n      try {\n        const response = await axios.get(`${API}/users`);\n        setAllUsers(response.data);\n      } catch (error) {\n        console.error('Error loading all users:', error);\n      }\n    }\n  };\n\n  const loadUserData = async () => {\n    if (!currentUser) return;\n    \n    try {\n      // Load trades\n      const tradesResponse = await axios.get(`${API}/trades/${currentUser.id}`);\n      setUserTrades(tradesResponse.data);\n      \n      // Load performance\n      const performanceResponse = await axios.get(`${API}/users/${currentUser.id}/performance`);\n      setUserPerformance(performanceResponse.data);\n      \n      // Load positions\n      const positionsResponse = await axios.get(`${API}/positions/${currentUser.id}`);\n      setOpenPositions(positionsResponse.data);\n    } catch (error) {\n      console.error('Error loading user data:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (currentUser) {\n      loadMessages();\n      loadUserData();\n      loadPendingUsers();\n      loadAllUsers();\n    }\n  }, [currentUser]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    \n    try {\n      if (isRegistering) {\n        // Registration\n        const response = await axios.post(`${API}/users/register`, {\n          username: loginForm.username,\n          email: loginForm.email,\n          real_name: loginForm.real_name,\n          membership_plan: loginForm.membership_plan,\n          password: loginForm.password\n        });\n        \n        alert('Registration successful! Please wait for admin approval. You will be approved within 5 minutes.');\n        setIsRegistering(false);\n        setLoginForm({ username: '', email: '', password: '', real_name: '', membership_plan: '' });\n      } else {\n        // Login\n        const response = await axios.post(`${API}/users/login`, {\n          username: loginForm.username,\n          password: loginForm.password\n        });\n        \n        setCurrentUser(response.data);\n        setShowLogin(false);\n        setLoginForm({ username: '', email: '', password: '', real_name: '', membership_plan: '' });\n        \n        // Save user to localStorage for persistence\n        localStorage.setItem('cashoutai_user', JSON.stringify(response.data));\n      }\n    } catch (error) {\n      console.error('Authentication error:', error);\n      const errorMessage = error.response?.data?.detail || 'An error occurred during authentication';\n      setError(errorMessage);\n    }\n  };\n\n  const handleApproval = async (userId, approved) => {\n    try {\n      await axios.post(`${API}/users/approve`, {\n        user_id: userId,\n        approved: approved,\n        admin_id: currentUser.id,\n        role: \"member\"\n      });\n      \n      // Reload pending users\n      loadPendingUsers();\n      loadAllUsers();\n      \n      alert(`User ${approved ? 'approved' : 'rejected'} successfully`);\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Error processing approval');\n    }\n  };\n\n  const handleUserRoleChange = async (userId, newRole) => {\n    try {\n      await axios.post(`${API}/users/change-role`, {\n        user_id: userId,\n        new_role: newRole,\n        admin_id: currentUser.id\n      });\n      \n      loadAllUsers();\n      alert('User role updated successfully');\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Error updating user role');\n    }\n  };\n\n  const handleUserRemoval = async (userId) => {\n    if (!window.confirm('Are you sure you want to remove this user?')) return;\n    \n    try {\n      await axios.delete(`${API}/users/${userId}?admin_id=${currentUser.id}`);\n      loadAllUsers();\n      alert('User removed successfully');\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Error removing user');\n    }\n  };\n\n  const sendMessage = async (e) => {\n    e.preventDefault();\n    \n    // Check if we have an image to send\n    if (imageFile && imagePreview) {\n      try {\n        console.log('Sending image message...');\n        await axios.post(`${API}/messages`, {\n          content: imagePreview, // Send the base64 data URL\n          content_type: \"image\",\n          user_id: currentUser.id,\n          reply_to_id: replyToMessage?.id || null\n        });\n        \n        // Clear image and reply after sending\n        setImageFile(null);\n        setImagePreview(null);\n        setReplyToMessage(null);\n        console.log('Image message sent successfully');\n      } catch (error) {\n        console.error('Error sending image:', error);\n        alert('Error sending image');\n      }\n      return;\n    }\n    \n    // Send text message\n    if (!newMessage.trim()) return;\n\n    try {\n      console.log('Sending text message...');\n      await axios.post(`${API}/messages`, {\n        content: newMessage,\n        content_type: \"text\",\n        user_id: currentUser.id,\n        reply_to_id: replyToMessage?.id || null\n      });\n      \n      setNewMessage('');\n      setReplyToMessage(null); // Clear reply after sending\n      console.log('Text message sent successfully');\n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert('Error sending message');\n    }\n  };\n\n  const submitTrade = async (e) => {\n    e.preventDefault();\n    \n    try {\n      await axios.post(`${API}/trades?user_id=${currentUser.id}`, {\n        symbol: tradeForm.symbol,\n        action: tradeForm.action,\n        quantity: parseInt(tradeForm.quantity),\n        price: parseFloat(tradeForm.price),\n        notes: tradeForm.notes,\n        stop_loss: tradeForm.stop_loss ? parseFloat(tradeForm.stop_loss) : null,\n        take_profit: tradeForm.take_profit ? parseFloat(tradeForm.take_profit) : null\n      });\n      \n      // Reset form\n      setTradeForm({\n        symbol: '',\n        action: 'BUY',\n        quantity: '',\n        price: '',\n        notes: '',\n        stop_loss: '',\n        take_profit: ''\n      });\n      \n      // Reload user data\n      loadUserData();\n      \n      alert('Trade recorded successfully!');\n    } catch (error) {\n      console.error('Error submitting trade:', error);\n      alert('Error submitting trade');\n    }\n  };\n\n  const closePosition = async (positionId, symbol) => {\n    if (!window.confirm(`Close position for ${symbol}?`)) return;\n    \n    try {\n      const response = await axios.post(`${API}/positions/${positionId}/close?user_id=${currentUser.id}`);\n      alert(`Position closed. P&L: $${response.data.realized_pnl}`);\n      loadUserData();\n    } catch (error) {\n      console.error('Error closing position:', error);\n      alert('Error closing position');\n    }\n  };\n\n  const handlePositionAction = async (positionId, action, quantity = null, price = null) => {\n    try {\n      const response = await axios.post(`${API}/positions/${positionId}/action?user_id=${currentUser.id}`, {\n        action: action,\n        quantity: quantity,\n        price: price\n      });\n      \n      alert(response.data.message);\n      loadUserData();\n    } catch (error) {\n      console.error('Error with position action:', error);\n      alert('Error processing action');\n    }\n  };\n\n  const formatMessageContent = (content, tickers) => {\n    let formattedContent = content;\n    \n    // Highlight stock tickers\n    tickers.forEach(ticker => {\n      const regex = new RegExp(`\\\\$${ticker}`, 'gi');\n      formattedContent = formattedContent.replace(regex, `<span class=\"ticker-highlight\">$${ticker}</span>`);\n    });\n    \n    return formattedContent;\n  };\n\n  const openEditProfile = () => {\n    setEditProfileForm({\n      username: currentUser.username,\n      email: currentUser.email,\n      real_name: currentUser.real_name || '',\n      screen_name: currentUser.screen_name || ''\n    });\n    setShowEditProfile(true);\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setAvatarFile(file);\n      \n      // Create preview\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        setAvatarPreview(e.target.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const uploadAvatarFile = async (file) => {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      const response = await axios.post(`${API}/users/${currentUser.id}/avatar-upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      \n      // Update current user with new avatar\n      setCurrentUser(prev => ({\n        ...prev,\n        avatar_url: response.data.avatar_url\n      }));\n      \n      setAvatarFile(null);\n      setAvatarPreview(null);\n      \n      alert('Profile picture updated successfully!');\n    } catch (error) {\n      console.error('Error uploading avatar:', error);\n      alert('Error uploading profile picture');\n    }\n  };\n\n  const updateProfile = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const response = await axios.put(`${API}/users/${currentUser.id}/profile`, editProfileForm);\n      \n      setCurrentUser(response.data);\n      setShowEditProfile(false);\n      \n      alert('Profile updated successfully!');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      alert(error.response?.data?.detail || 'Error updating profile');\n    }\n  };\n\n  const changePassword = async (e) => {\n    e.preventDefault();\n    \n    if (passwordForm.new_password !== passwordForm.confirm_password) {\n      alert('New passwords do not match');\n      return;\n    }\n    \n    try {\n      await axios.post(`${API}/users/change-password?user_id=${currentUser.id}`, {\n        current_password: passwordForm.current_password,\n        new_password: passwordForm.new_password\n      });\n      \n      setShowChangePassword(false);\n      setPasswordForm({\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      });\n      \n      alert('Password changed successfully!');\n    } catch (error) {\n      console.error('Error changing password:', error);\n      alert(error.response?.data?.detail || 'Error changing password');\n    }\n  };\n\n  const logout = async () => {\n    try {\n      await axios.post(`${API}/users/logout?user_id=${currentUser.id}`);\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n    \n    // Clear persisted user data\n    localStorage.removeItem('cashoutai_user');\n    \n    setCurrentUser(null);\n    setShowLogin(true);\n    setMessages([]);\n    if (wsRef.current) {\n      wsRef.current.close();\n      wsRef.current = null;\n    }\n  };\n\n  // Show loading screen while checking authentication\n  if (isLoading) {\n    return (\n      <div className={`min-h-screen flex items-center justify-center ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`}>\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <h2 className={`text-xl font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n            Loading CashoutAI...\n          </h2>\n          <p className={`mt-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`}>\n            Trade Together, Win Together\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (showLogin) {\n    return (\n      <div className={`min-h-screen ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`}>\n        <div className=\"flex items-center justify-center min-h-screen p-4\">\n          <div className={`w-full max-w-md backdrop-blur-lg rounded-2xl border p-8 ${\n            isDarkTheme \n              ? 'bg-white/10 border-white/20' \n              : 'bg-white/90 border-gray-200 shadow-xl'\n          }`}>\n            <div className=\"text-center mb-8\">\n              {/* Team Logo */}\n              <div className=\"flex justify-center mb-6\">\n                <div className=\"w-32 h-32 rounded-xl overflow-hidden border-4 border-blue-500/30 shadow-2xl bg-gradient-to-br from-blue-900 to-purple-900\">\n                  <img \n                    src=\"https://i.imgur.com/ZPYCiyg.png\" \n                    alt=\"CashoutAI Team Logo\" \n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      e.target.style.display = 'none';\n                      e.target.nextSibling.style.display = 'flex';\n                    }}\n                  />\n                  <div className=\"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-4xl hidden\">\n                    💰\n                  </div>\n                </div>\n              </div>\n              \n              <h1 className={`text-3xl font-bold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                💰 CashoutAI\n              </h1>\n              <p className={`mt-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`}>\n                Trading Community Chat\n              </p>\n              <p className={`text-lg font-semibold mt-3 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent`}>\n                \"Trade Together, Win Together\"\n              </p>\n              <p className={`text-sm mt-1 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>\n                Professional Trading Team Platform\n              </p>\n            </div>\n            \n            <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {/* Error Display */}\n              {error && (\n                <div className={`p-3 rounded-lg border ${\n                  isDarkTheme \n                    ? 'bg-red-500/10 border-red-500/30 text-red-400' \n                    : 'bg-red-50 border-red-200 text-red-600'\n                }`}>\n                  <p className=\"text-sm\">{error}</p>\n                </div>\n              )}\n              \n              <div>\n                <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                  Username\n                </label>\n                <input\n                  type=\"text\"\n                  className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                    isDarkTheme \n                      ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                      : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                  }`}\n                  value={loginForm.username}\n                  onChange={(e) => setLoginForm({...loginForm, username: e.target.value})}\n                  required\n                />\n              </div>\n              \n              {isRegistering && (\n                <>\n                  <div>\n                    <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Real Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        isDarkTheme \n                          ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                          : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                      }`}\n                      value={loginForm.real_name}\n                      onChange={(e) => setLoginForm({...loginForm, real_name: e.target.value})}\n                      required\n                    />\n                  </div>\n                  \n                  <div>\n                    <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Email\n                    </label>\n                    <input\n                      type=\"email\"\n                      className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        isDarkTheme \n                          ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                          : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                      }`}\n                      value={loginForm.email}\n                      onChange={(e) => setLoginForm({...loginForm, email: e.target.value})}\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Membership Plan *\n                    </label>\n                    <select\n                      className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        isDarkTheme \n                          ? 'bg-white/10 border border-white/20 text-white' \n                          : 'bg-white border border-gray-200 text-gray-900'\n                      }`}\n                      value={loginForm.membership_plan}\n                      onChange={(e) => setLoginForm({...loginForm, membership_plan: e.target.value})}\n                      required\n                    >\n                      <option value=\"\">Select Membership Plan</option>\n                      <option value=\"Monthly\">Monthly</option>\n                      <option value=\"Yearly\">Yearly</option>\n                      <option value=\"Lifetime\">Lifetime</option>\n                    </select>\n                  </div>\n                </>\n              )}\n              \n              <div>\n                <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                    isDarkTheme \n                      ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                      : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                  }`}\n                  value={loginForm.password}\n                  onChange={(e) => setLoginForm({...loginForm, password: e.target.value})}\n                  required\n                />\n              </div>\n              \n              {isRegistering && (\n                <div className={`p-3 rounded-lg border ${\n                  isDarkTheme \n                    ? 'bg-blue-500/10 border-blue-500/30 text-blue-400' \n                    : 'bg-blue-50 border-blue-200 text-blue-600'\n                }`}>\n                  <p className=\"text-sm\">\n                    📝 Your account will be approved within 5 minutes after registration.\n                  </p>\n                </div>\n              )}\n              \n              <button\n                type=\"submit\"\n                className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\"\n              >\n                {isRegistering ? 'Register' : 'Login'}\n              </button>\n\n              {!isRegistering && (\n                <div className=\"text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowForgotPassword(true)}\n                    className={`text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`}\n                  >\n                    Forgot your password?\n                  </button>\n                </div>\n              )}\n              \n\n              {!isRegistering && (\n                <div className=\"text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowForgotPassword(true)}\n                    className={`text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`}\n                  >\n                    Forgot your password?\n                  </button>\n                </div>\n              )}\n              \n              {!isRegistering && (\n                <div className=\"text-center\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowForgotPassword(true)}\n                    className={`text-sm ${isDarkTheme ? 'text-gray-400 hover:text-gray-300' : 'text-gray-600 hover:text-gray-700'} transition-colors`}\n                  >\n                    Forgot your password?\n                  </button>\n                </div>\n              )}\n              \n              <div className=\"text-center\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(!isRegistering)}\n                  className={`${isDarkTheme ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-700'} transition-colors`}\n                >\n                  {isRegistering ? 'Already have an account? Login' : \"Don't have an account? Register\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${isDarkTheme ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-black' : 'bg-gradient-to-br from-blue-50 via-white to-indigo-50'}`}>\n      {/* Header - Fixed/Sticky */}\n      <div className={`sticky top-0 z-50 border-b ${isDarkTheme ? 'border-white/10 bg-black/30' : 'border-gray-200 bg-white/80'} backdrop-blur-lg`}>\n        <div className=\"max-w-6xl mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"flex items-center space-x-3\">\n                {/* Mobile Menu Button */}\n                <button\n                  onClick={() => setShowMobileMenu(!showMobileMenu)}\n                  className={`md:hidden p-2 rounded-lg transition-colors ${\n                    isDarkTheme \n                      ? 'bg-white/10 text-gray-300 hover:bg-white/20' \n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                  }`}\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                  </svg>\n                </button>\n\n                {/* Team Logo in Header */}\n                <div className=\"w-12 h-12 rounded-lg overflow-hidden border-2 border-blue-500/30 bg-gradient-to-br from-blue-900 to-purple-900 shadow-lg\">\n                  <img \n                    src=\"https://i.imgur.com/ZPYCiyg.png\" \n                    alt=\"CashoutAI Logo\" \n                    className=\"w-full h-full object-cover\"\n                    onError={(e) => {\n                      e.target.style.display = 'none';\n                      e.target.nextSibling.style.display = 'flex';\n                    }}\n                  />\n                  <div className=\"w-full h-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold text-sm hidden\">\n                    💰\n                  </div>\n                </div>\n                \n                <div>\n                  <h1 className={`text-2xl font-bold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                    CashoutAI\n                  </h1>\n                  <span className={`text-xs italic ${isDarkTheme ? 'text-blue-400' : 'text-blue-600'}`}>\n                    Trade Together, Win Together\n                  </span>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center space-x-2\">\n                <div className={`w-2 h-2 rounded-full ${\n                  isConnected ? \n                    (connectionMode === 'websocket' ? 'bg-green-400' : 'bg-yellow-400') \n                    : 'bg-red-400'\n                }`}></div>\n                <span className={`text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`}>\n                  {isConnected ? \n                    (connectionMode === 'websocket' ? 'Connected' : 'Polling') \n                    : 'Disconnected'\n                  }\n                </span>\n              </div>\n            </div>\n            \n            {/* Desktop Navigation Tabs - Hidden on Mobile */}\n            <div className=\"hidden md:flex space-x-1\">\n              {['chat', 'portfolio', 'practice', 'favorites', 'profile'].map((tab) => (\n                <button\n                  key={tab}\n                  onClick={() => setActiveTab(tab)}\n                  className={`px-4 py-2 rounded-lg font-medium capitalize transition-colors ${\n                    activeTab === tab\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100 border border-gray-200'\n                  }`}\n                >\n                  {tab}\n                </button>\n              ))}\n              {currentUser?.is_admin && (\n                <button\n                  onClick={() => setActiveTab('admin')}\n                  className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                    activeTab === 'admin'\n                      ? isDarkTheme \n                        ? 'bg-yellow-600 text-white' \n                        : 'bg-yellow-600 text-white'\n                      : isDarkTheme \n                        ? 'text-yellow-400 hover:bg-white/10' \n                        : 'text-yellow-600 hover:bg-yellow-50 border border-yellow-200'\n                  }`}\n                >\n                  Admin\n                </button>\n              )}\n            </div>\n            \n            {/* Action Buttons - Hide logout on mobile */}\n            <div className=\"flex items-center space-x-4\">\n              {activeTab === 'chat' && (\n                <>\n                  <button\n                    onClick={() => setShowSearch(!showSearch)}\n                    className={`p-2 rounded-lg transition-colors ${\n                      isDarkTheme \n                        ? 'bg-white/10 text-gray-300 hover:bg-white/20' \n                        : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                    }`}\n                    title=\"Search messages\"\n                  >\n                    🔍\n                  </button>\n                </>\n              )}\n              \n              <button\n                onClick={toggleTheme}\n                className={`p-2 rounded-lg transition-colors ${\n                  isDarkTheme \n                    ? 'bg-white/10 text-gray-300 hover:bg-white/20' \n                    : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n                }`}\n                title=\"Toggle theme\"\n              >\n                {isDarkTheme ? '☀️' : '🌙'}\n              </button>\n              \n              {/* User info - Hide on small screens */}\n              <div className=\"text-right hidden sm:block\">\n                <div className={`font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                  {currentUser?.real_name || currentUser?.username}\n                </div>\n                <div className=\"text-xs text-gray-400\">\n                  {currentUser?.screen_name && `@${currentUser.screen_name} • `}\n                  {currentUser?.is_admin ? 'Admin' : currentUser?.role || 'Member'}\n                </div>\n              </div>\n              \n              {/* Logout - Only on desktop */}\n              <button\n                onClick={logout}\n                className=\"hidden md:block px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n              >\n                Logout\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content - Fixed height with proper scrolling accounting for header */}\n      <div className=\"max-w-6xl mx-auto flex flex-col\" style={{ height: 'calc(100vh - 80px)' }}>\n        {/* Content area that takes remaining height */}\n        <div className=\"flex-1 p-4 pb-20 overflow-hidden\">{/* This constrains the content */}\n\n        {/* Mobile Navigation Dropdown */}\n        {showMobileMenu && (\n          <div className={`md:hidden fixed top-16 left-4 right-4 border rounded-lg shadow-lg z-50 ${\n            isDarkTheme ? 'border-white/10 bg-black/90' : 'border-gray-200 bg-white/90'\n          } backdrop-blur-lg`}>\n            <div className=\"p-4\">\n              {/* User Info at top of mobile menu */}\n              <div className={`mb-4 p-3 rounded-lg border-b ${\n                isDarkTheme ? 'border-white/10' : 'border-gray-200'\n              }`}>\n                <div className={`font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                  {currentUser?.real_name || currentUser?.username}\n                </div>\n                <div className={`text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>\n                  {currentUser?.screen_name && `@${currentUser.screen_name} • `}\n                  {currentUser?.is_admin ? 'Admin' : currentUser?.role || 'Member'}\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                {/* Chat Tab */}\n                <button\n                  onClick={() => {\n                    setActiveTab('chat');\n                    setShowMobileMenu(false);\n                  }}\n                  className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                    activeTab === 'chat'\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                >\n                  <span className=\"text-2xl mb-1\">💬</span>\n                  <span className=\"text-sm font-medium\">Chat</span>\n                </button>\n\n                {/* Portfolio Tab */}\n                <button\n                  onClick={() => {\n                    setActiveTab('portfolio');\n                    setShowMobileMenu(false);\n                  }}\n                  className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                    activeTab === 'portfolio'\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                >\n                  <span className=\"text-2xl mb-1\">📊</span>\n                  <span className=\"text-sm font-medium\">Portfolio</span>\n                </button>\n\n                {/* Practice Tab */}\n                <button\n                  onClick={() => {\n                    setActiveTab('practice');\n                    setShowMobileMenu(false);\n                  }}\n                  className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                    activeTab === 'practice'\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                >\n                  <span className=\"text-2xl mb-1\">📈</span>\n                  <span className=\"text-sm font-medium\">Practice</span>\n                </button>\n\n                {/* Favorites Tab */}\n                <button\n                  onClick={() => {\n                    setActiveTab('favorites');\n                    setShowMobileMenu(false);\n                  }}\n                  className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                    activeTab === 'favorites'\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                >\n                  <span className=\"text-2xl mb-1\">⭐</span>\n                  <span className=\"text-sm font-medium\">Favorites</span>\n                </button>\n\n                {/* Profile Tab */}\n                <button\n                  onClick={() => {\n                    setActiveTab('profile');\n                    setShowMobileMenu(false);\n                  }}\n                  className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                    activeTab === 'profile'\n                      ? isDarkTheme \n                        ? 'bg-blue-600 text-white' \n                        : 'bg-blue-600 text-white'\n                      : isDarkTheme \n                        ? 'text-gray-300 hover:bg-white/10' \n                        : 'text-gray-700 hover:bg-gray-100'\n                  }`}\n                >\n                  <span className=\"text-2xl mb-1\">👤</span>\n                  <span className=\"text-sm font-medium\">Profile</span>\n                </button>\n\n                {/* Admin Tab (if admin) */}\n                {currentUser?.is_admin && (\n                  <button\n                    onClick={() => {\n                      setActiveTab('admin');\n                      setShowMobileMenu(false);\n                    }}\n                    className={`flex flex-col items-center p-3 rounded-lg transition-colors ${\n                      activeTab === 'admin'\n                        ? isDarkTheme \n                          ? 'bg-yellow-600 text-white' \n                          : 'bg-yellow-600 text-white'\n                        : isDarkTheme \n                          ? 'text-yellow-400 hover:bg-white/10' \n                          : 'text-yellow-600 hover:bg-yellow-50'\n                    }`}\n                  >\n                    <span className=\"text-2xl mb-1\">⚙️</span>\n                    <span className=\"text-sm font-medium\">Admin</span>\n                  </button>\n                )}\n              </div>\n\n              {/* Logout Button in Mobile Menu */}\n              <button\n                onClick={() => {\n                  logout();\n                  setShowMobileMenu(false);\n                }}\n                className=\"w-full flex items-center justify-center p-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium\"\n              >\n                <span className=\"text-xl mr-2\">🚪</span>\n                Logout\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Close mobile menu when clicking outside */}\n        {showMobileMenu && (\n          <div \n            className=\"md:hidden fixed inset-0 z-40\" \n            onClick={() => setShowMobileMenu(false)}\n          />\n        )}\n        \n        {/* Chat Tab */}\n        {activeTab === 'chat' && (\n          <ChatTab \n            messages={messages}\n            filteredMessages={filteredMessages}\n            showSearch={showSearch}\n            searchQuery={searchQuery}\n            setSearchQuery={setSearchQuery}\n            formatMessageContent={formatMessageContent}\n            addReaction={addReaction}\n            messageReactions={messageReactions}\n            addToFavorites={addToFavorites}\n            favorites={favorites}\n            messagesEndRef={messagesEndRef}\n            sendMessage={sendMessage}\n            newMessage={newMessage}\n            setNewMessage={setNewMessage}\n            imageFile={imageFile}\n            setImageFile={setImageFile}\n            imagePreview={imagePreview}\n            setImagePreview={setImagePreview}\n            isDarkTheme={isDarkTheme}\n            replyToMessage={replyToMessage}\n            setReplyToMessage={setReplyToMessage}\n          />\n        )}\n\n        {/* Portfolio Tab */}\n        {activeTab === 'portfolio' && (\n          <PortfolioTab \n            openPositions={openPositions}\n            userPerformance={userPerformance}\n            closePosition={closePosition}\n            handlePositionAction={handlePositionAction}\n            isDarkTheme={isDarkTheme}\n            currentUser={currentUser}\n          />\n        )}\n\n        {/* Favorites Tab */}\n        {activeTab === 'favorites' && (\n          <FavoritesTab \n            favorites={favorites}\n            addToFavorites={addToFavorites}\n            removeFromFavorites={removeFromFavorites}\n            isDarkTheme={isDarkTheme}\n          />\n        )}\n\n        {/* Practice Tab with Recent Trades (Smaller/Log-like) */}\n        {activeTab === 'practice' && (\n          <div className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4\">\n              {/* Enhanced Trade Form - COMPACT */}\n              <div className={`lg:col-span-2 backdrop-blur-lg rounded-xl border p-4 ${\n                isDarkTheme \n                  ? 'bg-white/5 border-white/10' \n                  : 'bg-white/80 border-gray-200'\n              }`}>\n                <h2 className={`text-lg font-bold mb-4 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                  📈 Paper Trading\n                </h2>\n                <form onSubmit={submitTrade} className=\"space-y-3\">\n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Stock Symbol\n                      </label>\n                      <input\n                        type=\"text\"\n                        placeholder=\"TSLA\"\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                            : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                        }`}\n                        value={tradeForm.symbol}\n                        onChange={(e) => setTradeForm({...tradeForm, symbol: e.target.value.toUpperCase()})}\n                        required\n                      />\n                      {/* Current Price Display */}\n                      {tradeForm.symbol && (\n                        <div className={`mt-1 text-sm ${isDarkTheme ? 'text-gray-400' : 'text-gray-600'}`}>\n                          {priceLoading ? (\n                            '🔄 Loading price...'\n                          ) : currentStockPrice ? (\n                            <span className=\"text-green-500 font-medium\">\n                              Current: ${currentStockPrice.toFixed(2)}\n                            </span>\n                          ) : (\n                            <span className=\"text-red-500\">\n                              Price unavailable\n                            </span>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Action\n                      </label>\n                      <select\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white' \n                            : 'bg-white border border-gray-200 text-gray-900'\n                        }`}\n                        value={tradeForm.action}\n                        onChange={(e) => setTradeForm({...tradeForm, action: e.target.value})}\n                      >\n                        <option value=\"BUY\">Buy</option>\n                        <option value=\"SELL\">Sell</option>\n                      </select>\n                    </div>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Quantity\n                      </label>\n                      <input\n                        type=\"number\"\n                        placeholder=\"100\"\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                            : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                        }`}\n                        value={tradeForm.quantity}\n                        onChange={(e) => setTradeForm({...tradeForm, quantity: e.target.value})}\n                        required\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Price\n                      </label>\n                      <input\n                        type=\"number\"\n                        step=\"0.00000001\"\n                        placeholder=\"250.00\"\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                            : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                        }`}\n                        value={tradeForm.price}\n                        onChange={(e) => setTradeForm({...tradeForm, price: e.target.value})}\n                        required\n                      />\n                    </div>\n                  </div>\n                  \n                  <div className=\"grid grid-cols-2 gap-3\">\n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Stop Loss (Optional)\n                      </label>\n                      <input\n                        type=\"number\"\n                        step=\"0.00000001\"\n                        placeholder=\"Auto-sell if price drops\"\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                            : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                        }`}\n                        value={tradeForm.stop_loss}\n                        onChange={(e) => setTradeForm({...tradeForm, stop_loss: e.target.value})}\n                      />\n                    </div>\n                    \n                    <div>\n                      <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                        Take Profit (Optional)\n                      </label>\n                      <input\n                        type=\"number\"\n                        step=\"0.00000001\"\n                        placeholder=\"Auto-sell when profit reached\"\n                        className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                            : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                        }`}\n                        value={tradeForm.take_profit}\n                        onChange={(e) => setTradeForm({...tradeForm, take_profit: e.target.value})}\n                      />\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className={`block mb-1 text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Notes (Optional)\n                    </label>\n                    <textarea\n                      placeholder=\"Trade notes and strategy...\"\n                      className={`w-full px-3 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                        isDarkTheme \n                          ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                          : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                      }`}\n                      value={tradeForm.notes}\n                      onChange={(e) => setTradeForm({...tradeForm, notes: e.target.value})}\n                    />\n                  </div>\n                  \n                  <button\n                    type=\"submit\"\n                    className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\"\n                  >\n                    Submit Trade\n                  </button>\n                </form>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Profile Tab */}\n        {activeTab === 'profile' && (\n          <div className=\"space-y-6\">\n            <div className={`backdrop-blur-lg rounded-xl border p-6 ${\n              isDarkTheme \n                ? 'bg-white/5 border-white/10' \n                : 'bg-white/80 border-gray-200'\n            }`}>\n              <h2 className={`text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                👤 My Profile\n              </h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className={`block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Username\n                    </label>\n                    <div className={`p-3 rounded-lg border ${\n                      isDarkTheme \n                        ? 'bg-white/5 border-white/10 text-white' \n                        : 'bg-white/70 border-gray-200 text-gray-900'\n                    }`}>\n                      {currentUser?.username}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className={`block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Real Name\n                    </label>\n                    <div className={`p-3 rounded-lg border ${\n                      isDarkTheme \n                        ? 'bg-white/5 border-white/10 text-white' \n                        : 'bg-white/70 border-gray-200 text-gray-900'\n                    }`}>\n                      {currentUser?.real_name || 'Not set'}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className={`block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Email\n                    </label>\n                    <div className={`p-3 rounded-lg border ${\n                      isDarkTheme \n                        ? 'bg-white/5 border-white/10 text-white' \n                        : 'bg-white/70 border-gray-200 text-gray-900'\n                    }`}>\n                      {currentUser?.email}\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className={`block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      Role\n                    </label>\n                    <div className={`p-3 rounded-lg border ${\n                      isDarkTheme \n                        ? 'bg-white/5 border-white/10 text-white' \n                        : 'bg-white/70 border-gray-200 text-gray-900'\n                    }`}>\n                      {currentUser?.is_admin ? 'Admin' : currentUser?.role || 'Member'}\n                    </div>\n                  </div>\n\n                  {/* Trading Performance Section */}\n                  <div>\n                    <label className={`block mb-2 font-medium ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                      📊 Trading Performance\n                    </label>\n                    <div className={`p-4 rounded-lg border space-y-2 ${\n                      isDarkTheme \n                        ? 'bg-white/5 border-white/10 text-white' \n                        : 'bg-white/70 border-gray-200 text-gray-900'\n                    }`}>\n                      <div className=\"flex justify-between\">\n                        <span className={isDarkTheme ? 'text-gray-300' : 'text-gray-600'}>Total Trades:</span>\n                        <span className=\"font-medium\">{userTrades.length}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className={isDarkTheme ? 'text-gray-300' : 'text-gray-600'}>Total P&L:</span>\n                        <span className={`font-medium ${\n                          userPerformance?.total_pnl >= 0 ? 'text-green-500' : 'text-red-500'\n                        }`}>\n                          {formatCurrency(userPerformance?.total_pnl || 0)}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className={isDarkTheme ? 'text-gray-300' : 'text-gray-600'}>Win Rate:</span>\n                        <span className=\"font-medium\">\n                          {userPerformance?.win_rate ? `${(userPerformance.win_rate * 100).toFixed(1)}%` : '0%'}\n                        </span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className={isDarkTheme ? 'text-gray-300' : 'text-gray-600'}>Open Positions:</span>\n                        <span className=\"font-medium\">{openPositions.length}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"flex flex-col items-center space-y-4\">\n                  <div className=\"w-32 h-32 rounded-full overflow-hidden border-4 border-white/20 shadow-lg\">\n                    {currentUser?.avatar_url ? (\n                      <img \n                        src={currentUser.avatar_url} \n                        alt=\"Profile\" \n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-3xl\">\n                        {currentUser?.username?.charAt(0).toUpperCase()}\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"space-y-3 w-full\">\n                    <button\n                      onClick={openEditProfile}\n                      className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\"\n                    >\n                      Edit Profile\n                    </button>\n                    \n                    <button\n                      onClick={() => setShowChangePassword(true)}\n                      className=\"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-200\"\n                    >\n                      Change Password\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Admin Tab */}\n        {activeTab === 'admin' && currentUser?.is_admin && (\n          <div className=\"space-y-6\">\n            <div className={`backdrop-blur-lg rounded-xl border p-6 ${\n              isDarkTheme \n                ? 'bg-white/5 border-white/10' \n                : 'bg-white/80 border-gray-200'\n            }`}>\n              <h2 className={`text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                ⚙️ Admin Panel\n              </h2>\n              \n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                {/* Pending Users */}\n                <div>\n                  <h3 className={`text-xl font-semibold mb-4 ${isDarkTheme ? 'text-yellow-400' : 'text-yellow-600'}`}>\n                    Pending Approvals ({pendingUsers.length})\n                  </h3>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                    {pendingUsers.map((user) => (\n                      <div key={user.id} className={`p-4 rounded-lg border ${\n                        isDarkTheme \n                          ? 'bg-white/5 border-white/10' \n                          : 'bg-white/70 border-gray-200'\n                      }`}>\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h4 className={`font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                              {user.real_name || user.username}\n                            </h4>\n                            <p className={`text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`}>\n                              @{user.username} • {user.email}\n                            </p>\n                            <p className={`text-xs ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>\n                              Membership: {user.membership_plan || 'Not specified'}\n                            </p>\n                          </div>\n                          <div className=\"flex space-x-2\">\n                            <button\n                              onClick={() => handleApproval(user.id, true)}\n                              className=\"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700\"\n                            >\n                              Approve\n                            </button>\n                            <button\n                              onClick={() => handleApproval(user.id, false)}\n                              className=\"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700\"\n                            >\n                              Reject\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                    {pendingUsers.length === 0 && (\n                      <p className={`text-center ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>\n                        No pending users\n                      </p>\n                    )}\n                  </div>\n                </div>\n                \n                {/* All Users */}\n                <div>\n                  <h3 className={`text-xl font-semibold mb-4 ${isDarkTheme ? 'text-blue-400' : 'text-blue-600'}`}>\n                    All Users ({allUsers.length})\n                  </h3>\n                  <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                    {allUsers.map((user) => (\n                      <div key={user.id} className={`p-4 rounded-lg border ${\n                        isDarkTheme \n                          ? 'bg-white/5 border-white/10' \n                          : 'bg-white/70 border-gray-200'\n                      }`}>\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h4 className={`font-semibold ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                              {user.real_name || user.username}\n                              {user.is_admin && ' 👑'}\n                            </h4>\n                            <p className={`text-sm ${isDarkTheme ? 'text-gray-300' : 'text-gray-600'}`}>\n                              @{user.username} • {user.email}\n                            </p>\n                            <p className={`text-xs ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>\n                              Role: {user.is_admin ? 'Admin' : user.role || 'Member'} \n                              {user.id === currentUser.id ? ' (You)' : ''}\n                              {user.id !== currentUser.id ? ' (Can Edit)' : ''}\n                            </p>\n                          </div>\n                          {user.id !== currentUser.id && (\n                            <div className=\"flex space-x-2\">\n                              {/* Role Management Dropdown - Shows for all users except current user */}\n                              <select\n                                onChange={(e) => handleUserRoleChange(user.id, e.target.value)}\n                                value={user.is_admin ? 'admin' : (user.role || 'member')}\n                                className={`text-xs px-2 py-1 rounded border focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                                  isDarkTheme \n                                    ? 'bg-gray-800 border-white/20 text-white' \n                                    : 'bg-white border-gray-300 text-gray-900'\n                                }`}\n                                style={{\n                                  backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                                  color: isDarkTheme ? '#ffffff' : '#000000'\n                                }}\n                              >\n                                {/* Role options for all users including admins - v2.1 */}\n                                <option value=\"member\" style={{\n                                  backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                                  color: isDarkTheme ? '#ffffff' : '#000000'\n                                }}>Member</option>\n                                <option value=\"admin\" style={{\n                                  backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                                  color: isDarkTheme ? '#ffffff' : '#000000'\n                                }}>Admin</option>\n                                <option value=\"moderator\" style={{\n                                  backgroundColor: isDarkTheme ? '#374151' : '#ffffff',\n                                  color: isDarkTheme ? '#ffffff' : '#000000'\n                                }}>Moderator</option>\n                              </select>\n                              <button\n                                onClick={() => handleUserRemoval(user.id)}\n                                className=\"px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700\"\n                                title=\"Remove user\"\n                              >\n                                Remove\n                              </button>\n                            </div>\n                          )}\n                          {user.id === currentUser.id && (\n                            <div className={`text-xs px-2 py-1 rounded ${isDarkTheme ? 'bg-gray-700 text-gray-300' : 'bg-gray-200 text-gray-600'}`}>\n                              Your Account\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Edit Profile Modal */}\n        {showEditProfile && (\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n            <div className={`backdrop-blur-lg rounded-2xl p-6 w-full max-w-md border ${\n              isDarkTheme \n                ? 'bg-white/10 border-white/20' \n                : 'bg-white/90 border-gray-200'\n            }`}>\n              <h2 className={`text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                Edit Profile\n              </h2>\n              \n              <form onSubmit={updateProfile} className=\"space-y-4\">\n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Real Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={editProfileForm.real_name}\n                    onChange={(e) => setEditProfileForm({...editProfileForm, real_name: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Screen Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={editProfileForm.screen_name}\n                    onChange={(e) => setEditProfileForm({...editProfileForm, screen_name: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Username\n                  </label>\n                  <input\n                    type=\"text\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={editProfileForm.username}\n                    onChange={(e) => setEditProfileForm({...editProfileForm, username: e.target.value})}\n                    required\n                  />\n                </div>\n                \n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={editProfileForm.email}\n                    onChange={(e) => setEditProfileForm({...editProfileForm, email: e.target.value})}\n                    required\n                  />\n                </div>\n                \n                {/* Profile Picture Upload */}\n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Profile Picture\n                  </label>\n                  \n                  {/* Current/Preview Avatar */}\n                  <div className=\"flex items-center space-x-4 mb-4\">\n                    <div className=\"w-20 h-20 rounded-full overflow-hidden border-2 border-white/20\">\n                      {avatarPreview ? (\n                        <img src={avatarPreview} alt=\"Preview\" className=\"w-full h-full object-cover\" />\n                      ) : currentUser?.avatar_url ? (\n                        <img src={currentUser.avatar_url} alt=\"Current\" className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <div className=\"w-full h-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg\">\n                          {currentUser?.username?.charAt(0).toUpperCase()}\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex-1\">\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleFileSelect}\n                        className={`w-full px-3 py-2 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                          isDarkTheme \n                            ? 'bg-white/10 border border-white/20 text-white' \n                            : 'bg-white border border-gray-200 text-gray-900'\n                        }`}\n                      />\n                      <p className={`text-xs mt-1 ${isDarkTheme ? 'text-gray-400' : 'text-gray-500'}`}>\n                        Upload JPG, PNG, GIF (max 1MB)\n                      </p>\n                    </div>\n                  </div>\n                  \n                  {/* Upload Button */}\n                  {avatarFile && (\n                    <button\n                      type=\"button\"\n                      onClick={() => uploadAvatarFile(avatarFile)}\n                      className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-2 rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 mb-4\"\n                    >\n                      Upload New Picture\n                    </button>\n                  )}\n                </div>\n                \n                <div className=\"flex space-x-4 pt-4\">\n                  <button\n                    type=\"submit\"\n                    className=\"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200\"\n                  >\n                    Save Changes\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowEditProfile(false);\n                      setAvatarFile(null);\n                      setAvatarPreview(null);\n                    }}\n                    className=\"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Change Password Modal */}\n        {showChangePassword && (\n          <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50\">\n            <div className={`backdrop-blur-lg rounded-2xl p-6 w-full max-w-md border ${\n              isDarkTheme \n                ? 'bg-white/10 border-white/20' \n                : 'bg-white/90 border-gray-200'\n            }`}>\n              <h2 className={`text-2xl font-bold mb-6 ${isDarkTheme ? 'text-white' : 'text-gray-900'}`}>\n                Change Password\n              </h2>\n              \n              <form onSubmit={changePassword} className=\"space-y-4\">\n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Current Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={passwordForm.current_password}\n                    onChange={(e) => setPasswordForm({...passwordForm, current_password: e.target.value})}\n                    required\n                  />\n                </div>\n                \n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    New Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={passwordForm.new_password}\n                    onChange={(e) => setPasswordForm({...passwordForm, new_password: e.target.value})}\n                    required\n                    minLength=\"6\"\n                  />\n                </div>\n                \n                <div>\n                  <label className={`block mb-2 ${isDarkTheme ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Confirm New Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    className={`w-full px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${\n                      isDarkTheme \n                        ? 'bg-white/10 border border-white/20 text-white placeholder-gray-400' \n                        : 'bg-white border border-gray-200 text-gray-900 placeholder-gray-500'\n                    }`}\n                    value={passwordForm.confirm_password}\n                    onChange={(e) => setPasswordForm({...passwordForm, confirm_password: e.target.value})}\n                    required\n                    minLength=\"6\"\n                  />\n                </div>\n                \n                <div className=\"flex space-x-4 pt-4\">\n                  <button\n                    type=\"submit\"\n                    disabled={passwordForm.new_password !== passwordForm.confirm_password}\n                    className=\"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Change Password\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowChangePassword(false);\n                      setPasswordForm({\n                        current_password: '',\n                        new_password: '',\n                        confirm_password: ''\n                      });\n                    }}\n                    className=\"flex-1 bg-gray-600 text-white py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n        </div> {/* End of content area */}\n      </div> {/* End of main container */}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}