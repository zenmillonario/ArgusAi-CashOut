{"ast":null,"code":"// Utility functions for formatting prices and P&L\n\nexport const formatPrice = price => {\n  if (price === null || price === undefined) {\n    return \"0.00\";\n  }\n  const numPrice = parseFloat(price);\n  if (numPrice === 0) {\n    return \"0.00\";\n  } else if (numPrice < 0.01) {\n    // For very small prices, show up to 8 decimal places (remove trailing zeros)\n    return numPrice.toFixed(8).replace(/\\.?0+$/, '');\n  } else if (numPrice < 1) {\n    // For prices under $1, show up to 4 decimal places\n    return numPrice.toFixed(4).replace(/\\.?0+$/, '');\n  } else {\n    // For regular prices, show 2 decimal places\n    return numPrice.toFixed(2);\n  }\n};\nexport const formatPnL = pnl => {\n  if (pnl === null || pnl === undefined) {\n    return \"0.00\";\n  }\n  const numPnL = parseFloat(pnl);\n  if (Math.abs(numPnL) < 0.01) {\n    // For very small P&L, show more precision\n    return numPnL.toFixed(6).replace(/\\.?0+$/, '');\n  } else {\n    // For regular P&L, show 2 decimal places\n    return numPnL.toFixed(2);\n  }\n};\nexport const formatPercentage = (current, original) => {\n  if (!current || !original || original === 0) {\n    return \"0.00\";\n  }\n  const percentage = (current - original) / original * 100;\n  if (Math.abs(percentage) < 0.01) {\n    return percentage.toFixed(4).replace(/\\.?0+$/, '');\n  } else {\n    return percentage.toFixed(2);\n  }\n};\nexport const formatCurrency = amount => {\n  if (amount === null || amount === undefined) {\n    return \"$0.00\";\n  }\n  const numAmount = parseFloat(amount);\n  return `$${formatPnL(numAmount)}`;\n};","map":{"version":3,"names":["formatPrice","price","undefined","numPrice","parseFloat","toFixed","replace","formatPnL","pnl","numPnL","Math","abs","formatPercentage","current","original","percentage","formatCurrency","amount","numAmount"],"sources":["/app/frontend/src/utils.js"],"sourcesContent":["// Utility functions for formatting prices and P&L\n\nexport const formatPrice = (price) => {\n  if (price === null || price === undefined) {\n    return \"0.00\";\n  }\n  \n  const numPrice = parseFloat(price);\n  \n  if (numPrice === 0) {\n    return \"0.00\";\n  } else if (numPrice < 0.01) {\n    // For very small prices, show up to 8 decimal places (remove trailing zeros)\n    return numPrice.toFixed(8).replace(/\\.?0+$/, '');\n  } else if (numPrice < 1) {\n    // For prices under $1, show up to 4 decimal places\n    return numPrice.toFixed(4).replace(/\\.?0+$/, '');\n  } else {\n    // For regular prices, show 2 decimal places\n    return numPrice.toFixed(2);\n  }\n};\n\nexport const formatPnL = (pnl) => {\n  if (pnl === null || pnl === undefined) {\n    return \"0.00\";\n  }\n  \n  const numPnL = parseFloat(pnl);\n  \n  if (Math.abs(numPnL) < 0.01) {\n    // For very small P&L, show more precision\n    return numPnL.toFixed(6).replace(/\\.?0+$/, '');\n  } else {\n    // For regular P&L, show 2 decimal places\n    return numPnL.toFixed(2);\n  }\n};\n\nexport const formatPercentage = (current, original) => {\n  if (!current || !original || original === 0) {\n    return \"0.00\";\n  }\n  \n  const percentage = ((current - original) / original) * 100;\n  \n  if (Math.abs(percentage) < 0.01) {\n    return percentage.toFixed(4).replace(/\\.?0+$/, '');\n  } else {\n    return percentage.toFixed(2);\n  }\n};\n\nexport const formatCurrency = (amount) => {\n  if (amount === null || amount === undefined) {\n    return \"$0.00\";\n  }\n  \n  const numAmount = parseFloat(amount);\n  return `$${formatPnL(numAmount)}`;\n};"],"mappings":"AAAA;;AAEA,OAAO,MAAMA,WAAW,GAAIC,KAAK,IAAK;EACpC,IAAIA,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAKC,SAAS,EAAE;IACzC,OAAO,MAAM;EACf;EAEA,MAAMC,QAAQ,GAAGC,UAAU,CAACH,KAAK,CAAC;EAElC,IAAIE,QAAQ,KAAK,CAAC,EAAE;IAClB,OAAO,MAAM;EACf,CAAC,MAAM,IAAIA,QAAQ,GAAG,IAAI,EAAE;IAC1B;IACA,OAAOA,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;EAClD,CAAC,MAAM,IAAIH,QAAQ,GAAG,CAAC,EAAE;IACvB;IACA,OAAOA,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;EAClD,CAAC,MAAM;IACL;IACA,OAAOH,QAAQ,CAACE,OAAO,CAAC,CAAC,CAAC;EAC5B;AACF,CAAC;AAED,OAAO,MAAME,SAAS,GAAIC,GAAG,IAAK;EAChC,IAAIA,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAKN,SAAS,EAAE;IACrC,OAAO,MAAM;EACf;EAEA,MAAMO,MAAM,GAAGL,UAAU,CAACI,GAAG,CAAC;EAE9B,IAAIE,IAAI,CAACC,GAAG,CAACF,MAAM,CAAC,GAAG,IAAI,EAAE;IAC3B;IACA,OAAOA,MAAM,CAACJ,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;EAChD,CAAC,MAAM;IACL;IACA,OAAOG,MAAM,CAACJ,OAAO,CAAC,CAAC,CAAC;EAC1B;AACF,CAAC;AAED,OAAO,MAAMO,gBAAgB,GAAGA,CAACC,OAAO,EAAEC,QAAQ,KAAK;EACrD,IAAI,CAACD,OAAO,IAAI,CAACC,QAAQ,IAAIA,QAAQ,KAAK,CAAC,EAAE;IAC3C,OAAO,MAAM;EACf;EAEA,MAAMC,UAAU,GAAI,CAACF,OAAO,GAAGC,QAAQ,IAAIA,QAAQ,GAAI,GAAG;EAE1D,IAAIJ,IAAI,CAACC,GAAG,CAACI,UAAU,CAAC,GAAG,IAAI,EAAE;IAC/B,OAAOA,UAAU,CAACV,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;EACpD,CAAC,MAAM;IACL,OAAOS,UAAU,CAACV,OAAO,CAAC,CAAC,CAAC;EAC9B;AACF,CAAC;AAED,OAAO,MAAMW,cAAc,GAAIC,MAAM,IAAK;EACxC,IAAIA,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAKf,SAAS,EAAE;IAC3C,OAAO,OAAO;EAChB;EAEA,MAAMgB,SAAS,GAAGd,UAAU,CAACa,MAAM,CAAC;EACpC,OAAO,IAAIV,SAAS,CAACW,SAAS,CAAC,EAAE;AACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}